(this.$WP=this.$WP||[]).push(["1xf498",(e,t)=>{"use strict";var r,a,o,d,i,n,u,s,g,l=()=>{if("undefined"!=typeof window){var e,t=null!=(e=window)&&e.location?window.location.toString():"";return t.substring(t.indexOf("#"))}return""},m=()=>{var e=window.location.toString();if(e.indexOf("#")>0){var t=e.substring(0,e.indexOf("#"));window.history.replaceState(window.history.state,document.title,t)}},I=e=>{var t,r=null==(t=e.media)?void 0:t.media,a=e.referenceCompoundMediaId;if(r){var{mediaId:o,type:d}=r;return{id:o,type:d}}return a||null},c=e=>{var t=n(e.locationId,{albumId:e.albumId,typeId:e.typeId,categoryId:e.categoryId,mediaId:I(e),sort:d.sort},u);return t?`#${t}`:(m(),`#${u}`)},p=e=>{var{locationId:t,state:{mediaId:r,albumId:a,typeId:o,categoryId:d}}=s(e),i={locationId:t||0,referenceCompoundMediaId:r,albumId:a,typeId:o,categoryId:d};return Object.keys(i).filter((e=>"referenceCompoundMediaId"!==e)).forEach((e=>{isNaN(i[e])&&delete i[e]})),i},h=e=>({...g,...e}),y=()=>h(p(l())),f=e=>{var t={...y(),...e},r=c(t);if(window.location.hash!==r)try{window.history.replaceState(window.history.state,document.title,r)}catch(e){if("SecurityError"===e.name&&e.message.includes("Attempt to use history.replaceState()"))return void console.error("The hash was attempted to be updated too often in too little time, causing a security error",e);throw e}},w=e=>`${window&&window.location.href.split("#")[0]}${c(e)}`,S=e=>{var t,r,a,o,d,i=e.replace("#photos;","?"),n=new URLSearchParams(i);return n.has("aggregationId")&&(t=Number(n.get("aggregationId"))),n.has("aggregationId")&&(r=Number(n.get("albumid"))),n.has("aggregationId")&&(a=Number(n.get("filter"))),n.has("ff")?(o=Number(n.get("ff")),d="u"):n.has("panoId")&&(o=Number(n.get("panoId")),d="pano"),o&&d?{referenceCompoundMediaId:{id:o,type:d},albumId:t,typeId:a,categoryId:r}:{albumId:t,typeId:a,categoryId:r}},b=e=>{var t=y();return t.referenceCompoundMediaId={id:e.mediaId,type:e.type},w(t)};return[()=>{g={albumId:r.ALL_ALBUMS,typeId:a(o().mediaGroup),categoryId:r.ALL_ALBUMS,sort:i.featured},e({generateMediaViewerState:p,generateMediaViewerStateFromPVRoute:S,generateUrlHashString:c,getHash:l,getMediaViewerState:y,getShareUrl:b,getUrlFromMVState:w,initDefaults:h,oldHashRouteStart:"#photos",removeHash:m,updateHash:f})},[e=>(r=e.AlbumTypes,a=e.getMediaGroupIdForString,o=e.getMediaFilterToRetrieveAllPhotos,d=e.DEFAULT_STATE),e=>i=e.mediaSorts,e=>(n=e.generateFragmentRoute,u=e.defaultFragmentPrefix,s=e.getStateFromFragment)]]},["13w1vr","j9pg61","1b53rh"]]);
