(this.$WP=this.$WP||[]).push(["1n6iz1",(e,i)=>{"use strict";var a,s,n,o,t,r,l,d,u,c,v,h,g,m,p,b,f,N,E,w,S,k,y,T,A,R,x,_,H,F,C,D,O,P=e=>{var{isOptimusEnabled:i,isOptimusSubscribed:s,fetching:n}=N(),o=b(),t=E(!i||s||!e.includes("Nova")||"en-US"!==o);return a((()=>s||!i?{fetching:n||t.fetching,targeting:"false"}:{fetching:n||t.fetching,targeting:t.cashbackEnabled?"Cashback":"Discount"}),[s,i,n,t])},V=["Hotels","HotelsList","HotelsNear","HotelHighlight","SmartDeals","Hotel_Review","ShowUserReviews","Home","ShowForum","ShowTopic"],j=e=>{var{page:i}=m(),a=w({experimentKeys:["nova_house_ads_holdback_1645552353"]},!V.includes(i)||!e.endsWith("Nova"));return null===a?{isNovaHoldbackEnabled:!1,fetching:!0}:{isNovaHoldbackEnabled:"test"===(null==a?void 0:a.nova_house_ads_holdback_1645552353)&&e.endsWith("Nova"),fetching:!1}},z={novaAd:"VnzpY",square:"ZzXVA",ad:"RnYjA j u",empty:"ZWKar Xd P0 o",fixMarginBottom:"DLdTM",withMargin:"giWkJ",hide:"XqoXi"},L=["Home"],B=({position:e,children:i,aboveTheFold:s=!1,viewportOverride:n,disableFallback:o=!1,marginVariant:t,isAttractionsCoverPage:r=!1})=>{var d=m(),u=b(),c=p(),g=L.includes(d.page)?"3x3":{MOBILE:"300x250|8x8|3x3",TABLET:"728x90|3x3",DESKTOP:"728x90|3x3"}[n||c],{ref:f,id:N,isEmpty:E,isRendered:w,shouldRenderFallback:y,isDisabled:T}=v({size:g||"",position:e,aboveTheFold:s,refreshType:"NO_REFRESH",isAttractionsCoverPage:r}),A=a((()=>null!=t?t:(e=>{switch(e){case"AttractionsFusion":return"fixMarginBottom";case"Hotels":return"withMargin";default:return""}})(d.page)),[t,d.page]),R=y&&w&&E;return T?null:k("div",{className:l(z.novaAd,{[z[A]]:(!E||R)&&A,[z.hide]:R&&o}),children:[R&&!i&&S(h,{position:e,locale:u,page:d.page,viewportOverride:n}),R&&i,S("div",{id:N,ref:f,className:l(z.ad,{[z.empty]:E})})]})},M=e=>S("div",{className:l(z.square,z.novaAd),children:S(g,{position:"RailNova",size:"300x250|3x3",isSticky:e.isSticky})}),U=e=>{var{position:i}=e;return k("div",{"data-automation":`nova-ad-${i}`,children:["InlineNova"===i&&S(B,{...e}),"RailNova"===i&&S(M,{...e})]})},W=e=>{var i=d(),a=P(e.position),s=H(e.position),n=e.additionalTargeting?{...e.additionalTargeting,PlusEligible:a.targeting,NovaTest:String(s.isNovaHoldbackEnabled)}:{PlusEligible:a.targeting,NovaTest:String(s.isNovaHoldbackEnabled)};return!i||a.fetching||s.fetching?null:S(c,{value:n,children:S(U,{...e})})},q=({position:e,...i})=>S(u,{position:e,children:S(W,{position:e,...i})}),I=({theme:e,onClose:i})=>{var{localize:a}=f();return S("button",{className:l("VtDrB B- _S G-",{EkNQV:"sand"===e,LYjLi:"mint"===e,gopkK:"juniper"===e}),onClick:i,"aria-label":a.string("common_Close"),type:"button",children:S(_,{})})},K=({maxViews:e,storageKey:i,theme:a="mint",onClose:s,onVisible:n,children:l})=>{var{isWebview:d}=x(),[u,c]=o(!1),v=R((()=>{n&&n()})),h=t((()=>{c(!1),A.set(i,e),s&&s()}),[e,s,i]);return r((()=>{var a=A.has(i)?parseInt(A.get(i),10):0;a<e&&(c(!0),A.set(i,a+1))}),[e,i]),!u||d?null:k(C,{theme:a,ref:v,children:[S("div",{className:"GqDUn _U t",children:S(D,{theme:a,onClose:h})}),S("div",{className:"GNxwY w",children:l})]})},Y="SUNova",G=({onDismiss:e})=>{var{page:i}=m(),a=y(),s=e=>{a({module:"Nova_Forum",context:i,action:e})},{ref:n,id:o,isEmpty:t,isLoaded:d,isDisabled:u}=v({size:"3x3",position:Y,aboveTheFold:!0,refreshType:"NO_REFRESH"});return r((()=>{u&&e&&e()})),u?null:S("div",{className:l({fdTDu:!d||t}),children:S(O,{storageKey:"novaForumViewCount",maxViews:2,theme:"nova",onVisible:()=>{s("Nova_Forum_seen")},onClose:()=>{s("Nova_Forum_closed")},children:S("div",{ref:n,id:o,className:l("WanOy")})})})},X=({onDismiss:e})=>{var i=P(Y),a=H(Y);if(i.fetching||a.fetching)return null;var s={fluidType:"nova",PlusEligible:i.targeting,NovaTest:String(a.isNovaHoldbackEnabled)};return S(u,{position:Y,children:S(c,{value:s,children:S(G,{onDismiss:e})})})},J=()=>{var e="nova-ads";return T({factory:({dismiss:e})=>(e=>S(X,{onDismiss:e}))(e),eventTypes:[e],key:e,tier:600}),null},Z=["MOBILE"],Q=["Tourism","Hotel_Review","Restaurants","Restaurants_Review","ShowForum","ShowTopic"],$=["en-US","fr-FR","en-AU","en-GB","en-CA","fr-CA","es-MX","it-IT","es-ES","ja-JP","ko-KR","zh-Hant-TW","en-IN","de-DE","nl-NL","pt-BR"],ee=()=>{var e=m(),i=b(),{page:a,params:s}=e,{userAgentCategory:n}=x(),o=p();return 14281!==(("ShowTopic"===a||"ShowForum"===a)&&s.forumId||0)&&("en-US"===i||!!(Z.includes(n)&&Z.includes(o)&&$.includes(i)&&Q.includes(a)))};return[()=>{H=j,F=s(q),C=n((function({theme:e,children:i},a){return S("div",{ref:a,className:l("QYpDj f o D s Za",{ZJOYm:"mint"===e,tgbJQ:"sand"===e,ATqso:"juniper"===e,APNAO:"nova"===e}),role:"dialog",children:i})})),D=I,O=K,e({NovaStickyAd:J,default:F,useNovaAd:ee})},[e=>(a=e.useMemo,s=e.memo,n=e.forwardRef,o=e.useState,t=e.useCallback,r=e.useEffect),e=>l=e.default,e=>d=e.useIsMounted,e=>(u=e.AdErrorBoundary,c=e.AdTargetingProvider,v=e.useAd,h=e.FallbackSelector,g=e.RailAd),e=>m=e.useRoute,e=>p=e.useViewportCategory,e=>(b=e.useLocale,f=e.useLocalize),e=>N=e.useOptimusEnabledForUser,e=>E=e.useCashbackEnabled,e=>w=e.default,e=>(S=e.jsx,k=e.jsxs),e=>y=e.useGARecorder,e=>T=e.usePopupHierarchyRender,e=>A=e.default,e=>R=e.useOnVisible,e=>x=e.useUserAgent,e=>_=e.default]]},["1o4yt4","fkji80","1mb2nz","19m912","fgwvq1","1ys6v1","17thqz","14tv4a","17g0c7","gugp1d","121h32","32pwc7","1xo1is","19b9b1","13btuy","1nnprh","1qkjm8"]]);
