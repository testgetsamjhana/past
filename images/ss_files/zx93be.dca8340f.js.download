(this.$WP=this.$WP||[]).push(["zx93be",(e,t)=>{"use strict";var i,o,n,a,r,s,l,c,d,_,p,m,h,u,v,f,g,R,b,k,S,y,w,C,I,T,A,D,P,x,U,O,j,E,L,N,z,M,q,F,V,B,H,$,W,G,X,Y,Q="WRONG_BUSINESS",K="EDIT",J="RESOLVED",Z="OWNER_THREAT",ee="HARASS",te="PAID_REMOVAL",ie="REMOVED",oe="OTHER",ne=({deleteReviewReason:e,deleteReviewComment:t,onDeleteReviewReasonSelect:n,onDeleteReviewCommentChange:d})=>{var{localize:_}=o();return l("div",{style:{marginTop:"25px"},children:[l(a,{name:"deleteReviewReason",ariaLabelledBy:"userSelectionButtons",children:[c(r,{value:"posted_to_wrong_business",selected:e===Q,onSelect:()=>{n(Q)},label:c(i,{id:"FRAUD_posted_to_wrong_business"})}),c(r,{value:K,selected:e===K,onSelect:()=>{n(K)},label:c(i,{id:"FRAUD_edit_my_review"})}),c(r,{value:J,selected:e===J,onSelect:()=>{n(J)},label:c(i,{id:"FRAUD_business_resolved_complaint"})}),c(r,{value:Z,selected:e===Z,onSelect:()=>{n(Z)},label:c(i,{id:"FRAUD_business_threatened_legal_action"})}),c(r,{value:ee,selected:e===ee,onSelect:()=>{n(ee)},label:c(i,{id:"FRAUD_business_harassing_me"})}),c(r,{value:te,selected:e===te,onSelect:()=>{n(te)},label:c(i,{id:"FRAUD_business_paid_me"})}),c(r,{value:ie,selected:e===ie,onSelect:()=>{n(ie)},label:c(i,{id:"FRAUD_changed_my_mind_about_review"})}),c(r,{value:oe,selected:e===oe,onSelect:()=>{n(oe)},label:c(i,{id:"FRAUD_other"})})]}),c(s,{maxLength:500,value:t||"",state:""===t&&"OTHER"===e?"error":"enabled",placeholder:_.string("FRAUD_user_removed_comment"),errorText:_.string("FRAUD_field_required"),marginBottom:"spacing-05",onChange:e=>{var t=e.target.value;d(t)},characterCountType:"max"})]})},ae={deleteReview:{reason:null,comment:""},isDialogShow:!1,reviewID:"",setDeleteReviewReason:()=>{},setDeleteReviewComment:()=>{},setIsDialogShow:()=>{},setReviewID:()=>{}},re=e=>{var[t,i]=_({reason:null,comment:""}),[o,n]=_(!1),[a,r]=_("");return c(z.Provider,{value:{deleteReview:{reason:t.reason,comment:t.comment},isDialogShow:o,reviewID:a,setDeleteReviewReason:e=>{i((t=>({...t,reason:e})))},setDeleteReviewComment:e=>{i((t=>({...t,comment:e})))},setIsDialogShow:n,setReviewID:r},children:e.children})},se=()=>p(z),le=({objectType:e,deleteObject:t,...i})=>{var a,r,{localize:s}=o(),l=se(),d=null==(a=l.deleteReview)?void 0:a.reason,_=null==(r=l.deleteReview)?void 0:r.comment,{setDeleteReviewReason:p,setDeleteReviewComment:m}=l,h=(e=>({Review:()=>e.string("delete_confirmation_header_review_0"),Photo:()=>e.string("delete_confirmation_header_photo_0"),Video:()=>e.string("delete_confirmation_header_video_0"),ForumPost:()=>e.string("delete_confirmation_header_forum_post_0"),LinkPost:()=>e.string("delete_confirmation_header_link_post_0"),Repost:()=>e.string("delete_confirmation_header_repost_1"),Trip:()=>e.string("trips_delete_trip_confirmation_header"),MediaBatch:()=>e.string("delete_confirmation_header_post_0")}))(s),u=(e=>({Review:()=>e.string("delete_confirmation_description_review_0"),Photo:()=>e.string("delete_confirmation_description_photo_0"),Video:()=>e.string("delete_confirmation_description_video_0"),ForumPost:()=>e.string("delete_confirmation_description_forum_post_0"),LinkPost:()=>e.string("delete_confirmation_description_link_post_0"),Trip:()=>e.string("trips_delete_trip_confirmation_text_v2"),Repost:()=>e.string("delete_confirmation_description_repost_0"),ApiLocationTopic:()=>e.string("aao_delete_question_msg_fffff375"),ApiTopicPosting:()=>e.string("aao_delete_answer_msg_fffff375"),MediaBatch:()=>e.string("delete_confirmation_description_post_0")}))(s),v=!d&&"Review"===e||"OTHER"===d&&!_&&"Review"===e;return c(n,{...i,header:h[e],description:u[e],cancel:()=>(e=>e.string("aao_delete_cancel_btn_fffff375"))(s),confirm:()=>(e=>e.string("inbox_swipe_delete"))(s),onConfirm:()=>{t&&t()},onCancel:null,body:"Review"===e&&c(N,{deleteReviewReason:d,deleteReviewComment:_,onDeleteReviewReasonSelect:p,onDeleteReviewCommentChange:m}),confirmButtonDisabled:v})},ce=({untagObject:e,...t})=>{var{localize:i}=o(),a=i.string("social_untag_confirmation_message"),r=i.string("social_untag_yourself"),s=()=>i.string("aao_delete_cancel_btn_fffff375"),l=()=>i.string("social_remove_tag");return c(v,{children:i=>c(n,{...t,header:r,description:a,cancel:s,confirm:l,onConfirm:t=>{i(t,"untagConfirm"),e&&e()},onCancel:e=>{i(e,"untagCancel")}})})},de={__key:0x5eb47c7d6811,id:"5eb47c7d6811bb5a9b9c2e6a16ed264f",loc:{},definitions:[]},_e={__key:0x871d081e3566,id:"871d081e3566daaeaabff1499b7f7b19",loc:{},definitions:[]},pe={Repost:"repostId",LinkPost:"postId"},me=(e,t)=>e&&t&&e.socialReferences&&e.socialReferences.userReferences&&e.socialReferences.userReferences.find((e=>e.userId===t)),he="zMxkM f _T M _S",ue="bohqm",ve=e=>{var{localize:t}=o();return c(L,{...e,localize:t})},fe={__key:35926269720501,id:"20acbc8b77b5e35697251e2a16463427",loc:{},definitions:[]},ge={__key:0xb69cdb8b17a6,id:"b69cdb8b17a638a9181a3b08a170e2c1",loc:{},definitions:[]},Re={__key:0xe99ca02f4b3a,id:"e99ca02f4b3aac3736b05f5b8fab0fc7",loc:{},definitions:[]},be=e=>{var t=({variables:t})=>String(t.objectId)===String(e.objectId)&&t.objectType===e.objectType?"invalidateAndRefetch":"validate",[{data:i,fetching:o,error:n}]=x({query:Re,variables:{socialObjects:[e]}},{addLikeV2:t,deleteLikeV2:t});return!o&&!n&&i&&i.socialStatistics&&i.socialStatistics.length&&i.socialStatistics[0]||null},ke=e=>{var t=!!P(),{localize:i}=o(),n=e.socialObject?e.socialObject:{objectType:D[e.item.__typename],objectId:String(e.item.id)},[a,r]=_(null),s=B(n),d=e.item&&e.item.socialStatistics&&e.item.socialStatistics.isLiked;u((()=>{r(null)}),[s]);var p=w(d,(s||{}).isLiked);p=null===a?p:a;var[,m]=g(fe),[,h]=g(ge),f=()=>{r(!p)},R=e.item.__typename,b=e.item.id,S=i("social_Helpful");return c(T,{pid:40469,children:o=>{var a=p?"unhelpful":"helpful";return c(v,{children:r=>c(I,{children:s=>l("span",{className:y(he,{DfGFq:p}),onClick:l=>{e.onClick&&e.onClick(),r(l,a),A.isNativeWebview()&&A.isActionSupported("like",1)?b&&R&&A.postToBridge("like",1,{objectId:b,type:R,undo:p}):t?(f(),(()=>{if(f(),p)return h(n).then((()=>!0));var{item:t}=e;return H.has(t.__typename)&&((e,t)=>{var i,o;"Review"===e.__typename?i=`/RateUserReview?src=${encodeURIComponent(e.id)}&geo=${encodeURIComponent(e.location.parent.parentGeoId)}&uid=${encodeURIComponent(e.userId)}&rateValue=1&token=${encodeURIComponent(t)}`:("Video"===e.__typename?o=e.orderedLocations.length>0&&e.orderedLocations[0]?e.orderedLocations[0].locationId:"":({locationId:o}=e.location),i=`/VideoController?a=vt&ff=${encodeURIComponent(e.id)}&vote=5&detail=${encodeURIComponent(o)}&token=${encodeURIComponent(t)}`),fetch(i,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"same-origin"})})(t,e.csrfToken),m(n).then((()=>!0))})().then((()=>(e=>t=>{var o;"NO_PERMISSION"===(null==t||null==(o=t.addLike)?void 0:o.statusType)&&e({node:i("social_no_permission")})})(s)))):o()},children:[e.isDsIcon?c(C,{color:"primaryIcon",size:20,marginRight:"spacing-01"}):c(k,{name:"thumbs-up",className:ue}),c("span",{className:"ui_link RAPNy",children:S})]})})})}})},Se=({children:e,padRight:t})=>c("span",{className:y("CXSid f",{sugrq:t}),children:e}),ye=({object:e,displayStyle:t,bookmarkSize:i,onClick:o,preventInteractionPropagation:n,bookmarkTextStyle:a,trip:r})=>c("div",{className:"zMxkM f _T M _S RrxgI",children:c(U,{object:e,preventInteractionPropagation:n,resaveTrip:r,children:(e,n)=>c(j,{active:n,bookmarkStyle:"flat",bookmarkSize:i||"20",lineHeight:20,bookmarkTextStyle:a,onClick:()=>{o&&o(),e()},children:e=>t.includes("text")?e:""})})}),we=({object:e,active:t,displayStyle:i,bookmarkSize:n,onClick:a,preventInteractionPropagation:r,bookmarkTextStyle:s})=>{var{localize:l}=o();return c("div",{className:"zMxkM f _T M _S ndlyO",children:c(O,{object:e,preventInteractionPropagation:r,active:t,children:e=>c(j,{active:t,bookmarkStyle:"flat",bookmarkSize:n||"20",lineHeight:20,bookmarkTextStyle:s,onClick:t=>{a&&a(t),e()},children:()=>i.includes("text")?l("save_all_items"):""})})})},Ce=({className:e,children:t})=>c("div",{className:y("qIICj f _T Me z",e),children:t}),Ie=({reason:e})=>"WRONG_BUSINESS"===e?c(i,{id:"Are_you_sure_change_attachment"}):"EDIT"===e?c(i,{id:"FRAUD_Acknowledgement1"}):"RESOLVED"===e?c(i,{id:"FRAUD_Acknowledgement2"}):"OWNER_THREAT"===e||"HARASS"===e||"PAID_REMOVAL"===e?c(i,{id:"FRAUD_Acknowledgement3"}):"REMOVED"===e||"OTHER"===e?c(i,{id:"FRAUD_Acknowledgement2"}):null;return[()=>{N=ne,z=m(ae),le.defaultProps={above:void 0,below:void 0,rightOf:void 0,leftOf:void 0,alignEdge:void 0,shiftX:0,shiftY:0,shiftArrow:0,fixed:!1,deleteObject:null},M=le,ce.defaultProps={above:void 0,below:void 0,rightOf:void 0,leftOf:void 0,alignEdge:void 0,shiftX:0,shiftY:0,shiftArrow:0,fixed:!1,untagObject:null},q=ce,e("UntagAction$1",E=class extends d.Component{constructor(...e){super(...e),this.context=void 0,this.getId=e=>pe[e.__typename]?e[pe[e.__typename]]:e.id,this.getType=e=>"TripComment"===e.__typename?"COMMENT":e.__typename.toUpperCase(),this.untag=e=>{var t={updatePhoto:"Photo"===e.__typename,updateVideo:"Video"===e.__typename,updateRepost:"Repost"===e.__typename,updateLinkPost:"LinkPost"===e.__typename,updateTrip:"Trip"===e.__typename,updateTripComment:"TripComment"===e.__typename};this.context.mutation(de,{id:this.getId(e),type:this.getType(e)}).toPromise().then((()=>this.context.query(_e,{idInt:this.getId(e),idLong:this.getId(e),...t},{requestPolicy:"network-only"}).toPromise())).then((()=>{this.forceUpdate()})).catch((e=>console.error(`Untag User Reference failed. Reason: ${e}`)))}}render(){return this.props.children(this.untag.bind(this))}}),E.contextType=f,F=E,L=class extends h{constructor(e){super(e),this.setTracking=(e,t)=>{this.state.tracked||(S(e,{module:`${t}Action_Disabled`,action:"CLICK"}),this.setState({tracked:!0}))},this.state={tracked:!1}}render(){var e,t,i;switch(this.props.actionType){case"Save":e="bookmark-fill",t=this.props.localize.string("social_Save"),i="save";break;case"Share":e="share",t=this.props.localize.string("link_share_share"),i="share"}var o="MOBILE"===this.props.viewportCategory;return c(b,{above:!0,alignEdge:o?"right":"left",shiftX:o?12:-28,shiftY:-8,shiftArrow:o?8:12,arrowType:"small",contents:()=>c("span",{className:"jkpoq _R S4 H3",children:this.props.localize("social_Coming_soon")}),local:!0,children:(o,n)=>c(v,{children:a=>l("span",{className:he,ref:o,onClick:e=>{a(e,i),n(),this.setTracking(e,t)},children:[c(k,{name:e,className:ue}),c("span",{className:"ui_link RAPNy socialCTA",children:t})]})})})}},V=R((e=>({viewportCategory:e.meta.device.viewportCategory})))(ve),B=be,H=new Set(["Review","Photo","Video"]),$=R((e=>({loggedInUserId:e.auth.loggedInUserId,csrfToken:e.auth.csrfToken})))(ke),W=$,Se.defaultProps={padRight:!1},G=Se,ye.defaultProps={onClick:void 0,preventInteractionPropagation:!1,placement:void 0},X=ye,we.defaultProps={onClick:void 0,preventInteractionPropagation:!1,placement:void 0},Y=we,Ce.defaultProps={className:""},e({DeleteConfirmation:M,DeleteReviewReasonProvider:re,DisabledSocialAction:V,LikeAction:W,NestedSocialAction:G,ReturnRemovalMessage:Ie,SaveAction:X,SaveAllAction:Y,SocialActionBar:Ce,UntagAction:F,UntagConfirmation:q,displayUntagIcon:me,useDeleteReviewReasonContext:se,useUpdatedLikeStats:B})},[e=>(i=e.default,o=e.useLocalize),e=>n=e.ConfirmationPopover,e=>(a=e.RadioGroup,r=e.RadioButton),e=>s=e.TextArea,e=>(l=e.jsxs,c=e.jsx),e=>(d=e,_=e.useState,p=e.useContext,m=e.createContext,h=e.Component,u=e.useEffect),e=>v=e.InteractionLogger,e=>(f=e.Context,g=e.useMutation),e=>R=e.connect,e=>b=e.default,e=>k=e.Icon,e=>S=e.trackClick,e=>y=e.default,e=>w=e.default,e=>C=e.default,e=>I=e.Toaster,e=>T=e.SocialLoginGate,e=>A=e.NativeBridge,e=>D=e.SocialObjectTypeMap,e=>P=e.useUserId,e=>x=e.useInvalidatableQuery,e=>(U=e.QueriedTripFlowSelector,O=e.TripFlowSelector),e=>j=e.BookmarkIcon]]},["17thqz","q97pgh","frf6ac","1u3aio","121h32","1o4yt4","yc8qq2","1mqwhq","12mj4n","14q9l4","1ybxsm","4axon3","fkji80","fbyv8z","1u47wj","1iw69p","10506z","10of6q","1nev0g","52far5","1fbuhs","9rb8bq","1hfpjv"]]);
