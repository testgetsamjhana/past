(this.$WP=this.$WP||[]).push(["7j6z14",(e,i)=>{"use strict";var t,r,o,s,a,n,l,c,d,p,m,h,u,_,f,v,y,b,k,g,T,C,x,P={sms:19907,email:55593,clipboard:19905},w=({url:e,itemType:i,itemId:t,action:r,type:o,children:s})=>c(l,{useSpan:!0,module:"ShareCta",action:r,context:`${i}|${t}|${e}`,once:!1,value:o&&"repost_action"!==o?P[o]:void 0,children:s(o&&"repost_action"!==o?(t=>{if("LinkPost"===i)return e;var r=`${-1!==e.indexOf("?")?"&":"?"}m=${t}`;return-1!==e.indexOf("#")?e.replace("#",`${r}#`):`${e}${r}`})(P[o]):e)}),A="WaGUs",I="JQnwv",S=({iconName:e,localizedText:i,onClickFunction:o,imgCdnUrl:s,size:a})=>d("li",{onClick:o,className:t("ui_link","CCyNL",{[I]:"small"===a,[A]:"large"===a}),children:[e.startsWith("/")?c("img",{src:`${s}${e}`,className:t("hgevT",{[I]:"small"===a,[A]:"large"===a})}):c(r,{name:e,className:t("FwRYV","LmwIT",{[I]:"small"===a,[A]:"large"===a})}),c("span",{children:i})]}),L=({url:e,itemType:i,size:t})=>{var r,{localize:o}=s();return r="LinkPost"===i?o.string("share_sms_link"):"ReadTrip"===i?o.string("trips_share_email_subject"):"WriteTrip"===i?o.string("trips_collaborate_invite_email_subject"):o.string("link_share_sms_checkthisout"),c(b,{iconName:"text-message",localizedText:o.string("link_share_option_sms"),size:t,onClickFunction:()=>((e,i)=>{var t=`${i} ${e}`;t.length>140&&(t=e),window.location.href=`sms:?&body=${encodeURIComponent(t)}`})(e,r)})},R={__key:0x7e9642043432,id:"7e9642043432bc1a78fd7b4d4a9cb6ca",loc:{},definitions:[]},z={__key:73064688853929,id:"4273b2d323a9147b50ffccf2e5def19c",loc:{},definitions:[]},j={__key:80958082225922,id:"49a185bb9702c37da6ad8d473047d574",loc:{},definitions:[]},$={__key:0x8cea94e914a2,id:"8cea94e914a248fc099226c65782acfb",loc:{},definitions:[]},N={__key:0x9a40e09534cb,id:"9a40e09534cbfe935d21b1460866bf3d",loc:{},definitions:[]},B=["Restaurant_Review","Attraction_Review","MobileAttraction_Review","AttractionProductReview","MobileAttractionProductReview","Hotel_Review","MobileHotel_Review"],q=({url:e,subject:i,firstSentence:t,textBeforeLink:r,textAfterLink:o,size:a})=>{var{localize:n}=s();return c(b,{iconName:"email",localizedText:n.string("link_share_option_email"),size:a,onClickFunction:()=>((e,i,t,r,o,s)=>{var a=encodeURIComponent(e),n=encodeURIComponent(r),l=encodeURIComponent(o),c=encodeURIComponent(i||s.string("share_email_subject")),d=`${t||s.string("link_share_sms_checkthisout")}%0D%0A%0D%0A${n?`${n}%0D%0A`:""}${a}%0D%0A${l?`${l}%0D%0A`:""}%0D%0A${s.string("ib_share_booking_download_app")}%0D%0A${s.string("app_download_url_secure")}`;window.location.href=`mailto:?subject=${c}&body=${d}`})(e,i,t,r,o,n)})},W=e=>{var{localize:i}=s();if(B.indexOf(e.itemType)>-1)return c(m,{query:R,variables:{locationId:e.itemId},children:({fetching:t,data:r})=>{var o,s;if(t||!r)return c(q,{...e});var a=(null==(o=r.locations)||null==(s=o[0])?void 0:s.name)||"";return c(q,{...e,subject:i.string("link_share_email_subject",{0:a}),firstSentence:i.string("mobile_here_is_a_place_i_found_8e0"),textBeforeLink:a})}});if("Review"===e.itemType)return c(m,{query:z,variables:{reviewId:e.itemId},children:({fetching:t,data:r})=>{var o,s;return c(q,t||!r?{...e}:{...e,firstSentence:i.string("share_email_reviews"),textBeforeLink:(null==(o=r.reviews)||null==(s=o[0])?void 0:s.title)||""})}});if("Photo"===e.itemType)return c(m,{query:j,variables:{id:e.itemId},children:({fetching:t,data:r})=>{var o;return c(q,t||!r?{...e}:{...e,firstSentence:i.string("share_email_photos"),textBeforeLink:(null==(o=r.photos)?void 0:o[0].caption)||""})}});if("Video"===e.itemType)return c(m,{query:$,variables:{id:e.itemId},children:({fetching:t,data:r})=>{var o;return c(q,t||!r?{...e}:{...e,firstSentence:i.string("share_email_videos"),textBeforeLink:(null==(o=r.videos)?void 0:o[0].caption)||""})}});if("LinkPost"===e.itemType)return c(q,{...e,subject:i.string("share_email_link_subject"),firstSentence:i.string("share_email_link"),textAfterLink:i.string("share_email_link_attribution")});if("ForumPost"===e.itemType)return c(q,{...e,firstSentence:i.string("share_email_forumtopic")});if("ForumResponse"===e.itemType)return c(q,{...e,firstSentence:i.string("share_email_forumreply")});if("WriteTrip"===e.itemType||"ReadTrip"===e.itemType){var t="WriteTrip"===e.itemType;return c(m,{query:N,variables:{id:e.itemId},children:({fetching:r,data:o})=>{var s=e;if(!r&&o){var a,n=o.trips&&o.trips.find((i=>i.id===e.itemId)),l={tripName:n&&n.title||""},d=null==n||null==(a=n.owner)?void 0:a.isMe;s={...e,firstSentence:i("trips_share_email_hey"),subject:i("trips_share_email_subject"),textBeforeLink:i("trips_share_email_body_v2",l)},t?(s.subject=i("trips_collaborate_invite_email_subject"),s.textBeforeLink=i(d?"trips_collaborate_invite_email_body_v2":"trips_collaborate_invite_email_body_collaborator_version",l)):d||(s.subject=i("trips_share_email_subject"),s.textBeforeLink=i("trips_email_share_collaborator_version",l))}return c(q,{...s})}})}return c(q,{...e})},D=e=>{var{localize:i}=s();return c(v,{...e,localize:i})},U=({itemType:e,repostProps:i})=>"Repost"===e?c(f,{modalName:i.modalName,repostPreviewProps:i.repostPreviewProps,originalRepostReference:i.originalRepostReference,actor:i.actor,socialStatistics:i.socialStatistics,onClick:i.onClick,styleAsShareListItem:!0,openRepostModalAsLocal:!0}):"Video"===e||"Photo"===e||"Review"===e||"LinkPost"===e||"MediaBatch"===e||"ForumPost"===e||"ForumResponse"===e||"NotMyTrip"===e||"ReadTrip"===e||"WriteTrip"===e?c(f,{modalName:i.modalName,repostPreviewProps:i.repostPreviewProps,actor:i.actor,socialStatistics:i.socialStatistics,onClick:i.onClick,styleAsShareListItem:!0,openRepostModalAsLocal:!0}):null,F=({url:e,itemType:i,itemId:r,viewportCategory:o,headerComponent:s,repostProps:a})=>d("div",{className:t("FhikP","NgUHj"),children:[s,"MOBILE"===o&&c(y,{action:"share_select",itemType:i,itemId:r,url:e,type:"sms",children:e=>c(k,{url:e,itemType:i,size:"small"})}),c(y,{url:e,itemType:i,itemId:r,action:"share_select",type:"email",children:e=>c(g,{url:e,itemType:i,itemId:Number(r),size:"small"})}),c(y,{action:"share_select",itemType:i,itemId:r,url:e,type:"clipboard",children:e=>c(T,{url:e,size:"small"})}),a&&c(C,{itemType:i,repostProps:a})]}),M=({fixed:e,url:i,itemType:t,itemId:r,shiftX:o,shiftY:s,children:a,headerComponent:n,alignEdge:l,repostProps:d,above:m})=>c(p,{local:!0,closeButton:!1,fixed:e,above:m,below:!0,alignEdge:l,shiftX:o,shiftY:s,shiftArrow:o,arrowType:"small",contents:()=>c(x,{url:i,itemType:t,itemId:r,headerComponent:n,repostProps:d}),children:a}),E=({url:e,itemType:i,itemId:t,styleAsSocialAction:r,headerComponent:o,onClick:s,alignEdge:n,repostProps:l,above:d,shiftX:p,shiftY:m,hideText:h,isBackToList:u,isDsIcon:_})=>c("div",{children:c(M,{url:e,itemType:i,itemId:t,shiftX:p,shiftY:m,headerComponent:o,alignEdge:n,repostProps:l,above:d,children:(o,n)=>c(y,{itemType:i,itemId:t,url:e,action:"share_button_click",children:()=>c(a,{children:e=>c(X,{onClick:i=>{s&&s(i),e(i,"share"),n()},target:o,styleAsSocialAction:r,hideText:h,isBackToList:u,isDsIcon:_})})})})}),X=({onClick:e,target:i,styleAsSocialAction:a,hideText:n,isBackToList:l,isDsIcon:p})=>{var{localize:m}=s();return c("div",{onClick:e,className:t(a?"mGZLW f _T M _S":"tSJmJ S5 H4 _S","qNoXj"),children:d("span",{ref:i,children:[p?c(o,{color:"primaryIcon",size:20,marginRight:"spacing-01"}):c(r,{name:"share",className:t({AWqKr:a,LWEmz:!a,EtNOL:l})}),!n&&d("span",{className:a?t("ui_link","duDPx","socialCTA"):"dScTn",children:[m("link_share_share")," "]})]})})};return[()=>{w.defaultProps={type:null},y=n(((e,i)=>({url:i.url.startsWith("/")?e.meta.baseUrl+i.url:i.url})))(w),S.defaultProps={onClickFunction:()=>!1},b=n((e=>({imgCdnUrl:e.meta.imageCdnUrl})))(S),k=L,q.defaultProps={firstSentence:"",subject:"",textBeforeLink:"",textAfterLink:""},g=W,v=class extends h{constructor(...e){super(...e),this.state={copied:!1},this.copyAndClose=(e,i)=>{var t=_.copy(e);return t&&(this.setState({copied:!0}),setTimeout((()=>i()),3e3)),t}}render(){return c(u,{children:e=>c(b,{iconName:"link",size:this.props.size,localizedText:this.state.copied?this.props.localize.string("link_share_link_copied"):this.props.localize.string("link_share_option_clipboard"),onClickFunction:this.state.copied?void 0:()=>this.copyAndClose(this.props.url,e)})})}},T=D,C=U,x=n(((e,i)=>({...i,url:i.url.startsWith("/")?e.meta.baseUrl+i.url:i.url,viewportCategory:e.meta.device.viewportCategory})))(F),M.defaultProps={fixed:!1,shiftX:0,shiftY:0,headerComponent:null,alignEdge:"right"},E.defaultProps={styleAsSocialAction:!1,headerComponent:null,onClick:void 0,above:!1,shiftX:6,shiftY:4,hideText:!1},X.defaultProps={styleAsSocialAction:!1,hideText:!1},e({ShareCta:E,ShareDropdownMenu:x,SharePopover:M,ShareTarget:X,ShareTracker:y})},[e=>t=e.default,e=>r=e.Icon,e=>o=e.default,e=>s=e.useLocalize,e=>a=e.InteractionLogger,e=>n=e.connect,e=>l=e.ClickTracker,e=>(c=e.jsx,d=e.jsxs),e=>p=e.default,e=>m=e.Query,e=>h=e.Component,e=>u=e.Closer,e=>_=e.default,e=>f=e.RepostAction]]},["fkji80","1ybxsm","1vgfso","17thqz","yc8qq2","12mj4n","4axon3","121h32","14q9l4","1mqwhq","1o4yt4","80hn7v","yjij17","19enkn"]]);
