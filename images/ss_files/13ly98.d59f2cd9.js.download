(this.$WP=this.$WP||[]).push(["13ly98",(e,l)=>{"use strict";var o,n,a,i,t,r,s,c,d,u,f,p,w,g,m,b,h,F,_,y,C,N,T,I,v,O,x=({profile:e,onClick:l})=>{var{localize:a}=o(),{isFollowing:i}=n(e);return t("span",{onClick:l,children:a(i?"social_unfollow":"social_Follow")})},z={__key:0x711a0e128508,id:"711a0e1285088bb437ec8db75aee9943",loc:{},definitions:[]},M={__key:75850423995612,id:"44fc4d940cdc5d3a23c7efa6d17856f9",loc:{},definitions:[]},k=e=>({node:e("social_no_permission")}),j=({profile:e,disableToast:l,children:n})=>{var s=c(C),d=c(N),u=c(T),{localize:f}=o(),[,p]=y(z),[,w]=y(M);return e?t(I,{children:o=>t(h,{children:(r,c)=>t(F,{children:m=>n((()=>{var n,b,h=a(e).isFollowing?"unfollow":"follow";return n=h,b={followeeId:c},d&&Object.assign(b,d),s&&Object.assign(b,s),u&&Object.assign(b,u),o(null,n,b),"unfollow"===h?r(40473).then((()=>w({objectType:"MEMBER",objectId:e.userId}).then((o=>{var n,a;o.error||l||("NO_PERMISSION"===(null==o||null==(n=o.data)||null==(a=n.deleteFollow)?void 0:a.statusType)?m(k(f)):(i(e.userId,(e=>({isFollowing:!1,followerCount:(e.followerCount||0)-1}))),i(c,(e=>({followeeCount:(e.followeeCount||0)-1})))))})))):r(40473).then((()=>p({objectType:"MEMBER",objectId:e.userId}).then((o=>{var n,a;o.error||l||("NO_PERMISSION"===(null==o||null==(n=o.data)||null==(a=n.addFollow)?void 0:a.statusType)?m(k(f)):(m({iconName:"add-friend-fill",node:t("span",{dangerouslySetInnerHTML:{__html:f.string("social_follow_toast_message",{sDisplayNameClass:g("YdNLo b",{ceGTc:e.isVerified}),sDisplayName:_(e.displayName)})}})}),i(e.userId,(e=>({isFollowing:!0,followerCount:(e.followerCount||0)+1}))),i(c,(e=>({followeeCount:(e.followeeCount||0)+1})))))}))))}))})})}):(console.error("Expected non-null profile in FollowAction"),t(r,{children:n((()=>Promise.resolve()))}))},L="pdwzO q",P="BNWyO Vm",E="pcMgz",S=e=>{var{displayType:l,profile:a,gatedAction:i,onToggleFollow:r,preventClickPropagation:c,greenless:h,...F}=e,{localize:_}=o(),[y,C]=d(null),N=u(i),T=u(r);f((()=>{N.current=i}),[i]),f((()=>{T.current=r}),[r]);var I=n(a).isFollowing;f((()=>{C(null)}),[I]);var v=null===y?I:y,O=p(w((e=>{T.current&&T.current(e),N.current()}),2e3,{leading:!0,trailing:!0}),[]),x=p((e=>{e&&e.detail>0&&e.currentTarget&&e.currentTarget.blur(),C(!v),O(v?"UNFOLLOW":"FOLLOW"),c&&(e.stopPropagation(),e.preventDefault())}),[c,v,O]);if("icon+text"===l)return s("span",{className:g("NRacq _T u _S _m",{OfFsz:v,[E]:h}),onClick:x,children:[t(m,{name:"add-friend-fill",className:L}),t("span",{className:g("ui_link",P),children:_(v?"social_nowFollowing":"social_Follow")})]});var z=s("span",{className:"KWUUU o W",children:["button+icon"===l&&t(m,{className:L,name:"add-friend-fill"}),t("span",{className:"button+icon"===l?P:null,children:_(v?"social_nowFollowing":"social_Follow")})]});return h?t("button",{className:g("ui_button",E,{CUXFI:v,fullwidth:"fullwidth"===F.size}),onClick:x,...F,children:z}):t(b,{...F,type:v?"primary":"secondary",onClick:x,children:z})},q=e=>{var{disableToast:l,...o}=e;return t(O,{disableToast:l,profile:o.profile,children:e=>t(S,{...o,gatedAction:e})})};return[()=>{v=x,O=j,q.defaultProps={greenless:!1},e({FollowAction:O,FollowText:v,default:q})},[e=>o=e.useLocalize,e=>(n=e.useUpdatedMember,a=e.getUpdatedMember,i=e.updateMemberData),e=>(t=e.jsx,r=e.Fragment,s=e.jsxs),e=>(c=e.useContext,d=e.useState,u=e.useRef,f=e.useEffect,p=e.useCallback),e=>w=e.debounce,e=>g=e.default,e=>m=e.Icon,e=>b=e.default,e=>h=e.SocialLoginGate,e=>F=e.Toaster,e=>_=e.escapeHtml,e=>y=e.useMutation,e=>(C=e.FollowTabTypeContext,N=e.FollowPlacementContext,T=e.RecommendedFolloweesImpressionIdContext,I=e.InteractionLogger)]]},["17thqz","1132xg","121h32","1o4yt4","dsbyen","fkji80","1ybxsm","4nzso8","10506z","1iw69p","irfizf","1mqwhq","yc8qq2"]]);
