(this.$WP=this.$WP||[]).push(["146708",(e,t)=>{"use strict";var o,n,r,i,a,s,l,c,d,p,h,m,I,u,_,R,T,E,C,O,S,f,N,P,L,g,v,A,W,b,y,w,M,k,x,F,U,V,H,B,D,G,z,q,Y,$,K,j,X,J,Q,Z,ee,te,oe,ne,re,ie,ae=e=>"number"==typeof e?e:Number(e)||void 0,se=e=>({csrfToken:e.auth.csrfToken,userId:e.auth.loggedInUserId,locale:e.i18n.locale}),le={__key:0x88978052c30e,id:"88978052c30eacf8be10d6b8b00bb381",loc:{},definitions:[]},ce={__key:0x95316443b6cf,id:"95316443b6cfe336e08e8ca65b49f5ca",loc:{},definitions:[]},de=e=>{var{localize:t}=m(),o="SOhfD z F";e.sticky&&(o+=" aeYJJ");var n=e.sticky?u("div",{className:"PpECq",children:u(p,{disabled:!0})}):null,[,r]=c(ce),[,i]=c(le);return _(R,{children:[n,_("div",{className:o,children:[e.showBackButton?u(p,{type:"secondary",onClick:e.onBack,children:t("com_fyf_p2_011")}):null,u(p,{type:"primary",disabled:!1===e.submissionState,onClick:()=>((e,t,o)=>{if(e.submissionState){var n,r,{originalId:i}=e.repostInfo||{};i&&-1!==ae(i)?(n=i,r=ae(e.contentId)):n=e.contentId;var a,s={...e,contentId:n};if(r&&t({contentId:r,contentType:x.REPOST,userId:s.userId,iapReasonId:s.submissionState.iapReason,comments:s.submissionState.comment}),F.has(s.contentType))(e=>{var t,o=new URLSearchParams;return o.set("token",e.csrfToken),o.set("contentId",`${ae(e.contentId)||""}`),o.set("voteContentType",e.contentType),o.set("comment",e.submissionState.comment),o.set("reasonId",e.submissionState.iapReason),e.submissionState.suggestedLocationId&&o.set("suggestedLocationId",e.submissionState.suggestedLocationId),t=`/ReportIAP?action=reportIAP&step=SAVE&${o.toString()}`,fetch(t,{cache:"no-cache",credentials:"same-origin",method:"POST",redirect:"follow"})})(s).then((()=>{s.onComplete()})).catch((()=>{s.onError()}));else if(U.has(s.contentType))(e=>{var{forumId:t=-1,forumTopicId:o=-1}=e.forumInfo||{},n=ae(e.contentId)||"",r=new URLSearchParams({token:e.csrfToken.toString(),fp:n.toString(),ff:t.toString(),ft:o.toString(),reason:e.submissionState.iapReason.toString()});return fetch("/ForumVote",{cache:"no-cache",credentials:"same-origin",method:"POST",redirect:"follow",accept:"*/*",body:r,headers:{Accept:"text/html, application/xml, text/xml, */*","Content-Type":"application/x-www-form-urlencoded;charset=UTF-8","X-Requested-With":"XMLHttpRequest"}})})(s).then((()=>{s.onComplete()})).catch((()=>{s.onError()}));else if(V.has(s.contentType))t({contentId:ae(s.contentId),contentType:s.contentType,userId:s.userId,iapReasonId:s.submissionState.iapReason,comments:s.submissionState.comment});else if(H.has(s.contentType)){var l="string"==typeof(a=s.contentId)?a:void 0;l&&o({reportedUserId:l,userId:s.userId,iapReasonId:s.submissionState.iapReason,comments:s.submissionState.comment})}}})(e,(t=>i(t).then((({error:t})=>t?e.onError():e.onComplete())).catch(e.onError)),(t=>r(t).then((({error:t})=>t?e.onError():e.onComplete())).catch(e.onError))),children:t("common_Submit")})]})]})},pe="aidfv",he="yes",me="no",Ie=e=>{var{localize:t}=m();return u(y,{...e,localize:t})},ue=e=>!1,_e=e=>!0,Re=e=>t=>t.comment.trim().length>e,Te=e=>e.suggestedLocation&&e.suggestedLocation.id>0,Ee={id:0,label:""},Ce=e=>u(q,{csrfToken:e.csrfToken,userId:e.userId,contentId:e.contentId,contentType:x.LINK,onError:e.onError,onComplete:e.onComplete,repostInfo:e.repostInfo,children:e=>_(R,{children:[e.createRadio("PROFANE_EXPLICIT_HATE_SPEECH"),e.createRadio("LINK_ILLEGAL_ACTIVITY"),e.createRadio("LINK_INCORRECT_OUTDATED_BROKEN")]})}),Oe={__key:0xc0789823dc53,id:"c0789823dc53b8d1c98757169c5d75d4",loc:{},definitions:[]},Se=e=>{var{localize:t}=m(),{placeType:o="",locationId:n=1}=e.location||{},r="ATTRACTION"===o||"EATERY"===o;return u(d,{query:Oe,variables:{locationId:n},children:({fetching:o,data:i})=>{var a;if(o)return null;var s=(null==i?void 0:i.locations)&&i.locations[0];return s&&null!=(a=s.currentUserOwnerStatus)&&a.isValid?((e,t,o,n,r)=>{var{ownerManagementUrl:i,ownerResponseUrl:a}=t,s=`/OwnerSupport?locationid=${o}&category=4&topic=44`,l=u("span",{dangerouslySetInnerHTML:{__html:r.string("report_review_redirect_2_part_2",{sUrl:`/UpdateListing-d${o}`})}}),c=u("span",{dangerouslySetInnerHTML:{__html:r.string("report_review_redirect_2_part_1",{sUrl:i||""})}}),d=n?l:c,p=u("span",{dangerouslySetInnerHTML:{__html:r.string("report_review_redirect_3",{sUrl:i||""})}}),h=u("span",{dangerouslySetInnerHTML:{__html:r.string("report_review_redirect_4_ver_2",{sUrl:a||""})}}),m=u("span",{dangerouslySetInnerHTML:{__html:r.string("report_review_redirect_5",{sUrl:s})}}),I=r("report_review_redirect_6"),T=u("span",{dangerouslySetInnerHTML:{__html:r.string("report_review_redirect_7",{sUrl:"https://www.tripadvisorsupport.com/hc/en-us/articles/200614617-As-a-business-owner-or-representative-how-do-I-remove-my-listing-",sEmphClass:"b"})}});return u(q,{csrfToken:e.csrfToken,userId:e.userId,contentId:e.contentId,contentType:x.USERREVIEW,onError:e.onError,onComplete:e.onComplete,repostInfo:e.repostInfo,children:e=>{var t="ownerReportReview";return e.isSubPanel(t)?_("div",{children:[e.createRadioWithSuggestionBox("WRONG_LOCATION",r("report_review_radio_desc_19")),e.createRadioWithOptionalComment("INAPPROPRIATE",r("report_review_radio_desc_9")),e.createRadioWithRequiredComment("WRITTEN_BY_COMPETITOR",r("report_review_radio_desc_10")),e.createRadioWithOptionalComment("MORE_THAN_1_YEAR_AGO",r("report_review_radio_desc_11_ver_1")),e.createRadioWithOptionalComment("REVIEW_NOT_CONSISTENT_WITH_RATING",`${r.string("report_review_radio_desc_12_part_1")} ${r.string("report_review_radio_desc_12_part_2")}`),e.createRadioWithOptionalComment("NOT_TRAVELERS_OWN",r("report_review_radio_desc_13_ver_2")),e.createRadioWithOptionalComment("DUPLICATE_CONTENT",`${r.string("report_review_radio_desc_14_part_1")} ${r.string("report_review_radio_desc_14_part_2")}`),e.createRadioWithOptionalComment("PROMOTIONAL",r("report_review_radio_desc_15_ver_1")),e.createRadioWithOptionalComment("NOT_ORIGINAL_REVIEW",r("report_review_radio_desc_16")),e.createRadioWithContentNoSubmit("DISAGREE_WITH_INFO",u("span",{dangerouslySetInnerHTML:{__html:r.string("report_review_radio_desc_17",{sUrl:a||""})}})),e.createRadioWithOptionalComment("CONTAINS_PRIVATE_INFO",r("report_review_radio_desc_18")),e.createRadioWithRequiredComment("OTHER")]},t):_(R,{children:[e.createRadioButtonWithSubPanel("REPORT_THIS_REVIEW",ue,t),e.createRadioWithContentNoSubmit("UPDATE_BUSINESS_DETAILS",d),e.createRadioWithContentNoSubmit("REPORT_BUSINESS_CLOSED",p),e.createRadioWithContentNoSubmit("EDIT_REMOVE_RESPONSE",h),e.createRadioWithContentNoSubmit("REPORT_OWNER_CHANGED",m),e.createRadioWithContentNoSubmit("REPORT_PHOTO",I),e.createRadioWithContentNoSubmit("REMOVE_LISTING",T)]})}})})(e,s,n,r,t):((e,t,o,n)=>{var r=t&&u("span",{dangerouslySetInnerHTML:{__html:n.string("social_report_level2_redirect",{sUrl:`/UpdateListing-d${t}`})}}),i=t&&u("span",{dangerouslySetInnerHTML:{__html:n.string("social_report_level2_1",{sUrl:`/Owners-d${t}`})}});return u(q,{csrfToken:e.csrfToken,userId:e.userId,contentId:e.contentId,contentType:x.USERREVIEW,onError:e.onError,onComplete:e.onComplete,repostInfo:e.repostInfo,children:e=>_(R,{children:[e.createRadioWithOptionalComment("PROFANE_EXPLICIT_HATE_SPEECH"),e.createRadioWithOptionalComment("PROMOTES_ILLEGAL_ACTIVITY"),e.createRadioWithRequiredComment("BIASED"),o?e.createRadioWithContentNoSubmit("CLOSED",u("span",{children:r})):e.createRadioWithRequiredComment("CLOSED"),e.createRadioWithSuggestionBox("WRONG_LOCATION",n("report_review_radio_desc_19")),e.createRadioWithOptionalComment("DUPLICATE_CONTENT"),e.createRadioWithOptionalComment("NOT_PERSONAL_EXPERIENCE"),e.createRadioWithContentNoSubmit("FALSE_MISLEADING_INFO",u("span",{children:i})),e.createRadioWithRequiredComment("OTHER")]})})})(e,n,r,t)}})},fe=e=>{var{localize:t}=m();return u(q,{csrfToken:e.csrfToken,userId:e.userId,contentId:e.contentId,contentType:x.MEDIA,onError:e.onError,onComplete:e.onComplete,repostInfo:e.repostInfo,children:e=>_(R,{children:[e.createRadioWithOptionalComment("PROFANE_EXPLICIT_HATE_SPEECH"),e.createRadioWithOptionalComment("PARTICIPATION_ILLEGAL_ACTIVITY"),e.createRadioWithOptionalComment("LOW_QUALITY"),e.createRadioWithSuggestionBox("WRONG_LOCATION",t.string("social_report_level2_3")),e.createRadioWithOptionalComment("DUPLICATE_CONTENT"),e.createRadioWithOptionalComment("COPYRIGHT_VIOLATION"),e.createRadioWithRequiredComment("OTHER")]})})},Ne=e=>{var{localize:t}=m();return u(q,{csrfToken:e.csrfToken,userId:e.userId,contentId:e.contentId,contentType:x.MEDIA,onError:e.onError,onComplete:e.onComplete,repostInfo:e.repostInfo,children:e=>_(R,{children:[e.createRadioWithOptionalComment("PROFANE_EXPLICIT_HATE_SPEECH"),e.createRadioWithOptionalComment("PARTICIPATION_ILLEGAL_ACTIVITY"),e.createRadioWithSuggestionBox("WRONG_LOCATION",t.string("social_report_level2_4")),e.createRadioWithOptionalComment("DUPLICATE_CONTENT"),e.createRadioWithOptionalComment("COPYRIGHT_VIOLATION"),e.createRadioWithRequiredComment("OTHER")]})})},Pe=({forumInfo:e,...t})=>u(q,{csrfToken:t.csrfToken,userId:t.userId,contentId:t.contentId,contentType:x.FORUM,onError:t.onError,onComplete:t.onComplete,forumInfo:e,repostInfo:t.repostInfo,children:e=>_(R,{children:[e.createRadioWithOptionalComment("SELF_PROMOTION_ADVERTISEMENT_SOLICITATION"),e.createRadioWithOptionalComment("OFF_TOPIC"),e.createRadioWithOptionalComment("SPAM"),e.createRadioWithOptionalComment("DUPLICATE_FORUM"),e.createRadioWithOptionalComment("HARASSMENT"),e.createRadioWithOptionalComment("PROFANITY_SEX_VIOLENCE_CRIME_HATE"),e.createRadioWithOptionalComment("MULTIPLE_ACCOUNTS_OR_IMPERSONATION"),e.createRadioWithOptionalComment("PERSONAL_INFO"),e.createRadioWithOptionalComment("COPYRIGHTED")]})}),Le=e=>{var{localize:t}=m(),o=f().getState().i18n.ietfLocale.replace("_","-").toLocaleLowerCase(),n=u("span",{dangerouslySetInnerHTML:{__html:t.string("trip_level_2_disagree_or_error",{sUrl:`https://www.tripadvisorsupport.com/hc/${o}/articles/360008024254`})}});return u(q,{csrfToken:e.csrfToken,userId:e.userId,contentId:e.contentId,contentType:x.TRIP,onError:e.onError,onComplete:e.onComplete,repostInfo:e.repostInfo,children:e=>_(R,{children:[e.createRadioWithOptionalComment("PROFANE_EXPLICIT_HATE_SPEECH"),e.createRadioWithOptionalComment("PROMOTES_ILLEGAL_ACTIVITY"),e.createRadioWithOptionalComment("TRIP_COPYRIGHT"),e.createRadioWithOptionalComment("TRIP_NOT_TRAVEL_RELATED"),e.createRadioWithContentNoSubmit("TRIP_ERROR_OR_DISAGREE",u("span",{children:n})),e.createRadioWithRequiredComment("OTHER")]})})},ge=e=>{var{localize:t}=m();return u(q,{csrfToken:e.csrfToken,userId:e.userId,contentId:e.contentId,contentType:x.LOCATION_TOPIC,onError:e.onError,onComplete:e.onComplete,repostInfo:e.repostInfo,children:e=>_(R,{children:[u("div",{children:t("qa_iap_label")}),e.createDefaultReasonWithRequiredComment("INAPPROPRIATE")]})})},ve=e=>{var{localize:t}=m();return u(q,{csrfToken:e.csrfToken,userId:e.userId,contentId:e.contentId,contentType:x.LOCATION_POSTING,onError:e.onError,onComplete:e.onComplete,repostInfo:e.repostInfo,children:e=>_(R,{children:[u("div",{children:t("qa_iap_label")}),e.createDefaultReasonWithRequiredComment("INAPPROPRIATE")]})})},Ae=e=>{var{localize:t}=m(),o=e.locale.replace("_","-").toLocaleLowerCase(),n=u("span",{dangerouslySetInnerHTML:{__html:t.string("iap_profile_report_from_post_lev2",{sUrl:`https://www.tripadvisorsupport.com/hc/${o}/articles/360008133913-TripAdvisor-s-Content-Policy`})}}),r=u("span",{dangerouslySetInnerHTML:{__html:t.string("iap_profile_general_support_lev2")}}),i=u("span",{dangerouslySetInnerHTML:{__html:t.string("iap_profile_report_from_inbox_lev2")}});return u(q,{csrfToken:e.csrfToken,userId:e.userId,contentId:e.contentId,contentType:x.PROFILE,onError:e.onError,onComplete:e.onComplete,children:e=>_(R,{children:[e.createRadioWithText("PROFILE_PROBLEM_WITH_PHOTO",t("iap_profile_problem_with_pic_lev2")),e.createRadio("PROFILE_PROBLEM_WITH_LINK"),e.createRadio("PROFILE_IAP_USERNAME"),e.createRadioWithContentNoSubmit("PROFILE_IAP_CONTRIBUTION",u("span",{children:n})),e.createRadioWithContentNoSubmit("PROFILE_PROBLEM_MY_ACCOUNT",u("span",{children:r})),e.createRadioWithContentNoSubmit("PROFILE_UNWANTED_MESSAGE",u("span",{children:i}))]})})},We=e=>u(q,{csrfToken:e.csrfToken,userId:e.userId,contentId:e.contentId,contentType:x.USERREVIEW,onError:e.onError,onComplete:e.onComplete,repostInfo:e.repostInfo,children:e=>u(R,{children:e.createDefaultReasonWithRequiredComment("OWNER_RESPONSE",10,200,u(I,{id:"explain_why_management_response_violates_guidelines",args:{link:"/help/management_response_guidelines"}}))})}),be=e=>u(L,{children:t=>u(p,{size:"fullwidth",type:"primary",onClick:t,children:e("common_OK")})}),ye=()=>{var{localize:e}=m();return _("div",{className:"kWfsu c",children:[u("p",{className:"dWgAo b",style:{textAlign:"center"},children:e("social_report_ty2")}),u("p",{className:"xSABF",children:e("social_report_ty2b")}),be(e)]})},we=()=>{var{localize:e}=m();return _("div",{className:"kWfsu c xSABF",children:[e("social_report_prof_err"),be(e)]})},Me=({name:e,children:t,pid:o})=>{var n=A({pid:o});return u(P,{name:e,children:e=>t((()=>{n().then(e)}))})},ke=e=>u(w,{modalName:e.modalName,children:(t,o)=>u(Y,{onError:t,onComplete:o,contentId:e.contentId,repostInfo:e.repostInfo})}),xe=e=>u(w,{modalName:e.modalName,children:(t,o)=>u($,{onError:t,onComplete:o,contentId:e.contentId,location:e.location,repostInfo:e.repostInfo})}),Fe=e=>u(w,{modalName:e.modalName,children:(t,o)=>u(K,{onError:t,onComplete:o,contentId:e.contentId,repostInfo:e.repostInfo})}),Ue=e=>u(w,{modalName:e.modalName,children:(t,o)=>u(j,{onError:t,onComplete:o,contentId:e.contentId,repostInfo:e.repostInfo})}),Ve=e=>u(w,{modalName:e.modalName,children:(t,o)=>u(X,{onError:t,onComplete:o,contentId:e.contentId,forumInfo:e.forumInfo,repostInfo:e.repostInfo})}),He=e=>u(w,{modalName:e.modalName,children:(t,o)=>u(J,{onError:t,onComplete:o,contentId:e.contentId,repostInfo:e.repostInfo})}),Be=e=>u(w,{modalName:e.modalName,children:(t,o)=>u(Q,{onError:t,onComplete:o,contentId:e.contentId,repostInfo:e.repostInfo})}),De=e=>u(w,{modalName:e.modalName,children:(t,o)=>u(Z,{onError:t,onComplete:o,contentId:e.contentId,repostInfo:e.repostInfo})}),Ge=e=>u(w,{modalName:e.modalName,children:(t,o)=>u(ee,{onError:t,onComplete:o,contentId:e.contentId})}),ze=e=>{var{originalType:t}=e.repostInfo||{};switch(t){case"Review":return u(xe,{...e});case"Photo":return u(Fe,{...e});case"Video":return u(Ue,{...e});case"LinkPost":return u(ke,{...e});case"ForumPost":return u(Ve,{...e});case"Trip":return u(He,{...e});case"ApiLocationTopic":return u(Be,{...e});case"ApiTopicPosting":return u(De,{...e});default:return null}},qe=e=>{var{localize:t}=m();return u(M,{...e,localize:t})},Ye=e=>{var t={contentId:b(e),location:e.location,forumInfo:{forumId:e.forumId,forumTopicId:e.topicId}},{repostedObject:o}=e;if(!o)return t;var n=b(o);return{...t,location:o.location,forumInfo:{forumId:o.forumId,forumTopicId:o.topicId},repostInfo:{originalId:n,originalType:o.__typename}}};return[()=>{k={repostInfo:void 0},x=Object.freeze({FORUM:"FORUMPOST",USERREVIEW:"USERREVIEW",MEDIA:"MEDIA",TRIP:"2",LINK:"1",REPOST:"3",PROFILE:"4",LOCATION_TOPIC:"LOCATION_TOPIC",LOCATION_POSTING:"LOCATION_POSTING",SAFETY_MESSAGE:"SAFETY_MESSAGE"}),F=new Set([x.USERREVIEW,x.MEDIA,x.LOCATION_TOPIC,x.LOCATION_POSTING]),U=new Set([x.FORUM]),V=new Set([x.LINK,x.TRIP,x.SAFETY_MESSAGE]),H=new Set([x.PROFILE]),B=o((e=>({sticky:"MOBILE"===e.meta.device.viewportCategory})))(de),y=class extends n{constructor(e){super(e),this.onYesClick=()=>{this.setState({locationKnown:he}),this.props.onYes()},this.onNoClick=()=>{this.setState({locationKnown:me}),this.props.onNo()},this.onResultSelected=e=>{var t=e.displayValue||"";this.props.onLocationChange(parseInt(e.value,10),t),this.setState({textInputValue:t})},this.textInputChanged=e=>{this.setState({textInputValue:e})},this.typeaheadJsonFetcher=new E({interleaved:!0,types:["hotel","attr","eat","act"],filter:["nobroad"],name_depth:1,details:!0,legacy_format:!0,urlList:!1,max:20}),this.defaultResult={type:"location_id",value:"0"},this.render=()=>{var e=this.state.locationKnown===he?"primary":"secondary",t=this.state.locationKnown===me?"primary":"secondary";return _("div",{children:[u("div",{className:"VnjVM H3",children:this.props.hintText}),_(S,{children:[u(p,{type:e,onClick:this.onYesClick,children:this.props.localize("common_Yes")}),u(p,{type:t,onClick:this.onNoClick,children:this.props.localize("common_No")})]}),_("div",{style:{display:this.state.locationKnown===he?"block":"none"},children:[u("div",{className:"Xuxgs H3",children:this.props.localize("social_report_level3_1")}),u("div",{className:"IHtTl _T",children:u(C,{typeaheadTextInputValue:this.state.textInputValue,selectionChanged:this.onResultSelected,fetchers:[this.typeaheadJsonFetcher],textInputChanged:this.textInputChanged,placeHolder:this.props.localize.string("common_25f1"),closeDropdownOnClickOutside:!1,children:(e,t,o)=>u("div",{className:"wOvNx _V",children:u(T,{children:[...e.worldwide||[],...e.typeaheadjson||[]].map((e=>(n,r)=>u(O,{result:e,tracker:t,onMouseMove:r,onSelection:o,active:n,includeIcon:!0},`result=${e.value}`)))})})},this.props.location.id)}),u("div",{className:pe,children:u(i,{value:this.props.comment,onChange:this.props.onCommentChange,minLength:10,maxLength:250})})]}),u("div",{className:pe,style:{display:this.state.locationKnown===me?"block":"none"},children:u(i,{value:this.props.comment,onChange:this.props.onCommentChange,minLength:10,maxLength:250,required:!0,label:this.props.localize("social_report_level3_2")})})]})},this.state={locationKnown:"default",textInputValue:e.location.label}}},D=Ie,G=class extends n{componentDidMount(){this.props.onMountMethod()}render(){return this.props.children}},z=Re(10),q=class extends n{constructor(...e){super(...e),this.state={selectedIAPReason:void 0,comment:"",suggestedLocation:Ee,isStateValid:e=>!1,subPanelId:""},this.getSubmissionState=()=>!!this.state.isStateValid&&!(!this.state.selectedIAPReason||a(this.state.selectedIAPReason))&&!(!this.state.isStateValid(this.state)||!this.state.selectedIAPReason)&&{iapReason:s(this.state.selectedIAPReason).id,comment:this.state.comment,suggestedLocationId:this.state.suggestedLocation.id},this.setNewReason=(e,t)=>{this.setState({selectedIAPReason:e,isStateValid:t,comment:"",suggestedLocation:Ee})},this.setValidation=e=>{this.setState({isStateValid:e})},this.setSubPanel=e=>{this.setState({subPanelId:e})},this.setCommentFromCommentBoxEvent=e=>{this.setState({comment:e.target.value})},this.setLocation=(e,t)=>{var o={id:e,label:t};this.setState({suggestedLocation:o})},this.resetSubmissionState=()=>{this.setState({comment:"",suggestedLocation:Ee})},this.createSubmitButton=()=>u(B,{contentId:this.props.contentId,contentType:this.props.contentType,userId:this.props.userId,csrfToken:this.props.csrfToken,submissionState:this.getSubmissionState(),onComplete:()=>{this.props.onComplete(this.state.selectedIAPReason)},onError:this.props.onError,onBack:()=>{this.setSubPanel(""),this.resetSubmissionState()},showBackButton:!!this.state.subPanelId,forumInfo:this.props.forumInfo,repostInfo:this.props.repostInfo}),this.createRadioWithSuggestionBox=(e,t)=>this.createRadioButtonWithChildren(e,ue,u(D,{hintText:t,comment:this.state.comment,onCommentChange:this.setCommentFromCommentBoxEvent,location:this.state.suggestedLocation,onLocationChange:this.setLocation,onYes:()=>{this.setValidation(Te),this.resetSubmissionState()},onNo:()=>{this.setValidation(z),this.resetSubmissionState()}})),this.createRadioWithText=(e,t)=>this.createRadioButtonWithChildren(e,_e,t),this.createRadio=e=>this.createRadioButtonWithChildren(e,_e,null),this.createRadioWithOptionalComment=(e,t)=>this.createRadioButtonWithChildren(e,_e,_(R,{children:[t,u(i,{value:this.state.comment,onChange:this.setCommentFromCommentBoxEvent,maxLength:250})]})),this.createRadioWithRequiredComment=(e,t)=>this.createRadioButtonWithChildren(e,Re(10),_(R,{children:[t,u(i,{value:this.state.comment,onChange:this.setCommentFromCommentBoxEvent,required:!0,minLength:10,maxLength:500})]})),this.createRadioWithContentNoSubmit=(e,t)=>this.createRadioButtonWithChildren(e,ue,t),this.createRadioButtonWithChildren=(e,t,o)=>{var n=`${e}`;return u(l,{selected:e===this.state.selectedIAPReason,value:n,labelText:s(e).label,onSelect:()=>{this.setNewReason(e,t)},children:o})},this.createDefaultReasonWithRequiredComment=(e,t=50,o=500,n)=>this.createDefaultReasonWithChildren(e,Re(t),u(i,{value:this.state.comment,onChange:this.setCommentFromCommentBoxEvent,required:!0,minLength:t,maxLength:o,label:n})),this.createDefaultReasonWithChildren=(e,t,o)=>u(G,{onMountMethod:()=>{this.setNewReason(e,t)},children:o}),this.createRadioButtonWithSubPanel=(e,t,o)=>u(l,{selected:!1,value:`${e}`,labelText:s(e).label,onSelect:()=>{this.setSubPanel(o),this.setNewReason(e,t)},children:null}),this.render=()=>_(R,{children:[u(r,{name:"ReportIAP",ariaLabelledBy:"ReportIAP",children:this.props.children(this)}),this.createSubmitButton()]})}isSubPanel(e){return this.state.subPanelId===e}},Ce.defaultProps=k,Y=o((e=>se(e)))(Ce),Se.defaultProps=k,$=o((e=>se(e)))(Se),fe.defaultProps=k,K=o((e=>se(e)))(fe),Ne.defaultProps=k,j=o((e=>se(e)))(Ne),Pe.defaultProps=k,X=o((e=>se(e)))(Pe),Le.defaultProps=k,J=o((e=>se(e)))(Le),ge.defaultProps=k,Q=o((e=>se(e)))(ge),ve.defaultProps=k,Z=o((e=>se(e)))(ve),Ae.defaultProps=k,ee=o((e=>se(e)))(Ae),We.defaultProps=k,te=o((e=>se(e)))(We),w=class extends n{constructor(...e){super(...e),this.state={status:"panel"},this.onError=()=>{this.setState({status:"error"})},this.onComplete=()=>{this.setState({status:"thankyou"})},this.render=()=>{var e;e="thankyou"===this.state.status?u(ye,{}):"error"===this.state.status?u(we,{}):u("div",{className:"SiAkd",children:this.props.children(this.onError,this.onComplete)});var t=u(g,{icon:v,displayType:"LEFT_ALIGN_GRAY",children:u("div",{id:"ReportIAP",children:u(h,{id:"report_problem_ffffff85"})})});return u(N,{name:this.props.modalName,header:t,children:e})}}},ke.defaultProps=oe={repostInfo:void 0,forumInfo:void 0,location:void 0},xe.defaultProps=oe,Fe.defaultProps=oe,Ue.defaultProps=oe,Ve.defaultProps=oe,He.defaultProps=oe,Be.defaultProps=oe,De.defaultProps=oe,Ge.defaultProps=oe,ze.defaultProps=oe,ne=Object.freeze({USERREVIEW:"USERREVIEW"}),re=Object.freeze({OWNER_RESPONSE_REASON_ID:21}),M=class extends n{constructor(...e){super(...e),this.state={status:"panel",comment:""},this.onError=()=>{this.setState({status:"error"})},this.onComplete=()=>{this.setState({status:"thankyou"})},this.getSubmissionState=()=>!(this.state.comment.length<10)&&{iapReason:re.OWNER_RESPONSE_REASON_ID,comment:this.state.comment},this.setCommentFromCommentBoxEvent=e=>{this.setState({comment:e.target.value})},this.header=u(g,{icon:v,displayType:"LEFT_ALIGN_GRAY",children:this.props.localize("report_problem_ffffff85")}),this.numberLabels=_("div",{className:"bXaqO Wi Pb S2",children:[this.props.localize("ur_rd_0characterminimum",{0:10})," / ",this.props.localize("ur_rd_0charactermaximum",{0:200})]}),this.createSubmitButton=()=>u(B,{contentId:this.props.responseId,contentType:ne.USERREVIEW,userId:this.props.userId,csrfToken:this.props.csrfToken,submissionState:this.getSubmissionState(),showBackButton:!1,onComplete:this.onComplete,onError:this.onError})}render(){var e,{modalName:t,userId:o,locationId:n,responseId:r}=this.props;return t&&o&&r&&n&&!(n<=0)?(e="thankyou"===this.state.status?u(ye,{}):"error"===this.state.status?u(we,{}):_("div",{className:"BVszW",children:[u("div",{className:"CumiX S2 H2",dangerouslySetInnerHTML:{__html:this.props.localize.string("explain_why_management_response_violates_guidelines",{link:"/help/management_response_guidelines"})}}),u(W,{className:"bHkEc Md",value:this.state.comment,onChange:this.setCommentFromCommentBoxEvent,maxLength:200}),this.numberLabels,this.createSubmitButton()]}),u(N,{name:t,header:this.header,children:e})):null}},ie=o((e=>({csrfToken:e.auth.csrfToken,locationId:e.page.detailId})))(qe),e({ReportForumModal:Ve,ReportForumPanel:X,ReportLinkModal:ke,ReportLinkPanel:Y,ReportLocationTopicModal:Be,ReportLocationTopicPanel:Q,ReportLocationTopicPostModal:De,ReportLocationTopicPostPanel:Z,ReportMemberModal:Ge,ReportMemberPanel:ee,ReportModalOpener:Me,ReportOwnerResponseModal:ie,ReportOwnerResponsePanel:te,ReportPhotoModal:Fe,ReportPhotoPanel:K,ReportRepostModal:ze,ReportReviewModal:xe,ReportReviewPanel:$,ReportTripModal:He,ReportTripPanel:J,ReportVideoModal:Ue,ReportVideoPanel:j,ReportVoteError:we,ReportVoteThankYou:ye,reportPropsFromObject:Ye})},[e=>o=e.connect,e=>n=e.Component,e=>r=e.RadioGroup,e=>(i=e.CommentBox,a=e.isOwnerReason,s=e.forLabel,l=e.ReportIAPRadio),e=>(c=e.useMutation,d=e.Query),e=>p=e.default,e=>(h=e.default,m=e.useLocalize,I=e.UnsafeLocalize),e=>(u=e.jsx,_=e.jsxs,R=e.Fragment),e=>T=e.NavigableList,e=>(E=e.TypeaheadJsonFetcher,C=e.Selector,O=e.TypeaheadJsonResult),e=>S=e.default,e=>f=e.getStore,e=>N=e.Modal,e=>(P=e.Opener,L=e.Closer),e=>g=e.TitleBar,e=>v=e.default,e=>A=e.useSocialLoginGate,e=>W=e.TextArea,e=>b=e.getObjectId]]},["12mj4n","1o4yt4","frf6ac","1ynqy3","1mqwhq","4nzso8","17thqz","121h32","qhneqr","1uaudg","p6p3ta","45ddp0","18m6oj","80hn7v","cnyhjq","1s9vc2","10506z","1afpmu","18cxlq"]]);
