(this.$WP=this.$WP||[]).push(["1hi1az",(e,a)=>{"use strict";var t,l,o,i,n,r,d,u,s,c,m,h,v,p,g,I,_,f,b,w,N,C,P,A,M,L,y,T,U,k,O,x,B,R,D,S,E,z,H,$,W,j,q,V,F,G=({travelersChoiceData:e,botbData:a})=>{var t="TABLET"===p()?"top-caret":"left-caret",l=null;return"BOTB"===(null==e?void 0:e.awardType)?l=g(v,{...e,botbDetails:a}):"COE"===(null==e?void 0:e.awardType)&&(l=g(h,{tooltipVariant:t,year:null==e?void 0:e.year})),g("div",{className:"TujUm u _Q Z1",children:l})},Q=({root:e})=>{var a,t,l=null==e||null==(a=e.travelersChoice)?void 0:a[0],o=null==e||null==(t=e.botb)?void 0:t[0];return g(G,{travelersChoiceData:l,botbData:o})},Z=(e,a,l,o)=>{if(P("hr_mediaviewer_mas"))A(e,l,o);else{var i={detail:e,geo:a,albumViewMode:"grid",updateType:"full",albumId:l,filter:7};o>0&&(l===t.PANO_ALBUM?i.panoId=`p${o}`:i.ff=o,i.baseMediaId=o,i.albumViewMode="hero"),globalThis.require(["trjs!actions/openRespPhotoViewer"],(e=>{e.openWithOptions(i)}))}},K="_Q",Y="kEtyG",X="AiVmP",J=()=>g("div",{className:X,children:g(M,{name:"camera",className:N(Y,K)})}),ee=({albumId:e,avatarData:a})=>{switch(e){case t.TRAVELER_ALBUM:return(e=>{if(!e)return J();var a=e.filter((e=>!(!e.userProfile||!e.userProfile.avatar))).reduce(((e,a)=>(e[a.userProfile.avatar.id]=a.userProfile.avatar,e)),{}),t=Object.keys(a).reduce(((e,t)=>(e.push(a[t]),e)),[]).map((e=>{var a;return{withBorder:!0,alt:"",size:"small",photo:{photoSizes:null!=(a=null==e?void 0:e.photoSizes)?a:[]}}})).filter((e=>!!e)).slice(0,3);return t.length<2?J():I("span",{className:"rvEWq",children:[" ",g(L,{avatarProps:t,maxFaces:3})]})})(a);case t.STORYBOARD_ALBUM:return I("div",{className:X,children:[g(M,{name:"bubble-rating-bg",className:"cMpnU _Q"}),g(M,{name:"play",className:N(Y,K)})]});case t.PANO_ALBUM:return I("div",{className:"QMboG",children:[g("div",{className:N(K,"HFXKu")}),g(M,{name:"refresh",className:N("eJlMU",K)}),g("span",{className:N(K,"uPLQm b"),children:"360"})]});case t.ROOM_AND_SUITE_ALBUM:return g("div",{className:X,children:g(M,{name:"hotels",className:N(Y,K)})});case t.DINING_ALBUM:return g("div",{className:X,children:g(M,{name:"restaurants",className:N(Y,K)})});default:return J()}},ae=e=>{var a=e.renderIcon&&"function"==typeof e.renderIcon?e.renderIcon():ae.defaultProps.renderIcon();return I("div",{className:N("jGSWL w _Z f e u j _P c C4",e.title?"BCgYe":""),children:[a,e.title,e.count&&I("span",{className:"oTtzD",children:[" (",e.count,") "]})]})};function te(){return g(M,{name:"play",className:"btPGK"})}var le="jtEGR",oe=(e,a,l,o,i)=>a.map((({albumId:a,name:n,totalMediaCount:r,mediaList:d})=>{var u=a===t.PANO_ALBUM,s=g("div",{className:N(u?"jpAiI":le),children:g(w,{children:u=>{var s,c;return g(C,{className:"lbKFv _T _S _Z",photoSizes:null!=(s=null==d||null==(c=d[0])?void 0:c.photoSizes)?s:[],loading:e,onClick:()=>{var e;u({elementType:"photo",actionName:"HR_ALBUM_THUMBNAIL",itemAttributes:{album_id:a}}),f({module:"photoviewer",action:"atf_album_click",context:`${a}`}),R(l,o,a,a===t.STORYBOARD_ALBUM?null==d||null==(e=d[0])?void 0:e.mediaId:-1)},sizeHint:{tablet:"20vw",desktop:"20vw"},lazy:!1,children:g(S,{title:n,count:r,renderIcon:()=>g(D,{albumId:a,avatarData:i})})})}})},a);return u?g(b,{onVisible:()=>{f({module:"atf_panos_album",action:"in_view",value:0})},children:e=>g("div",{ref:e,className:le,children:s})},`track-${a}`):s})),ie=({albums:e,locationId:a,geoId:t,avatarData:l,loading:o})=>{var i;return e&&0!==e.length&&e.filter&&a&&t?(i=o?(()=>{for(var e=[],a=0;a<3;a++)e.push({albumId:-a,name:"",totalMediaCount:0,mediaList:[]});return e})():(e=>e.filter((({mediaList:e})=>0!==e.length)).slice(0,3))(e),i.length<2?null:g("div",{className:N("iWIbD","lARID o _Z PA"),children:oe(o,i,a,t,l)},"albums-container")):null};function ne(){f({module:"photoviewer",action:"click",context:"add_photo_click"})}var re=({locationId:e,geoId:a})=>{var{localize:t}=x();return I("a",{className:"XQUfC f e j u _Z w _T Wc",href:`/PostPhotos-g${a}-d${e}`,target:"_blank",onClick:ne,children:[g("div",{className:"nWCef",children:g(M,{className:"jzHVk",name:"camera"})}),g(O,{type:"primary",size:"large",children:t("mw_add_photo_ffffdfce")})]})},de=e=>{switch(e){case"MOBILE":return{clientWidth:400,clientHeight:200};case"TABLET":return{clientWidth:425,clientHeight:380};default:return{clientWidth:610,clientHeight:380}}},ue=({locationId:e,geoId:a,media:l,totalMediaCount:o,getNextPage:i=(()=>{}),carouselIndex:s,updateCarouselIndex:c,postPhotosUrl:m,writeReviewUrl:h,locationName:v,albumId:p,viewportCategory:_,albumName:b})=>{var{localize:C}=x(),P=()=>!(!p||p!==t.THIN_GEO_PHOTO_ALBUM),A=()=>"MOBILE"===_,M=Math.max(Math.min(s,l.length-1),0),L=20*Math.floor(M/20),y=Math.min(L+20,l.length),T=l[M].mediaId,U=T&&!P()?l=>{f({module:"photoviewer",action:"atf_hero_click",context:`${l}`}),R(e,a,t.ALL_ALBUMS,l)}:null,k=()=>{return U?(l="MOBILE"===_?"xsmall":"regular",i=A()?"none":void 0,o>1?g(w,{children:n=>g(u,{onClick:()=>{f({module:"photoviewer",action:"atf_allphotos_click",context:`${e}`}),n({elementType:"photo",actionName:"HR_MEDIA_CAROUSEL",itemAttributes:{media_id:-1}}),R(e,a,t.ALL_ALBUMS,-1)},fontSize:l,icon:"camera",totalCount:o,linkText:b||C.string("photos_module_carousel_view_all_photos_plain"),background:i})}):null):!k&&P()?g(d,{textClassName:"n _d",text:C.string("hr_lowcontent_geo_photo_disclaim_2")}):null;var l,i};return g("div",{className:N("tmaAb f",P()?"ysizD":"lyixc","UXboM","HuNes"),children:I("div",{className:"fqMvr f e",children:[g(w,{children:a=>g(H,{width:"100%",height:"100%",media:l,totalCount:o,uniqueId:`${e}`,showIndicatorDots:A(),onClick:e=>{T&&!P()&&a({elementType:"photo",actionName:"HR_MEDIA_CAROUSEL",itemAttributes:{media_id:e}}),U&&U(e)},onLoadLast:()=>"function"==typeof i&&i(),loadLastThreshold:19,onNextClick:()=>{f({module:"photoviewer",action:"atf_hero_arrow_click"})},onPrevClick:()=>{f({module:"photoviewer",action:"atf_hero_arrow_click"})},imageFitStrategy:"cover",backgroundColor:"black",showCta:!!U,hideArrows:P(),renderOverlay:k,sizeHint:{mobile:"100vw",tablet:"70vw",desktop:"60vw"},lazyLoadImages:!1})}),o>10&&g("div",{className:"uHFfh",children:g(n,{imageSourceDimensions:z,media:l.slice(L,y),selectedIndex:M%20,onMediaSelected:a=>{c(`${e}`,L+a),l.length!==o&&l.length-L-a<20&&"function"==typeof i&&i(),f({module:"photoviewer",action:"atf_previewthumb_click"})},numItemsInRow:10})}),P()&&g("div",{className:"tQrpg",children:g(r,{postPhotosUrl:m||`/PostPhotos-d${e}`,writeReviewUrl:h||`/UserReview-d${e}`,locationName:v||""})})]})},"carousel-container")},se=({renderCarouselPane:e,renderAlbumPane:a,renderBadge:t,queryProps:l})=>{var{enabled:o}=B();return I("div",{className:N("_Z","LOOhJ _T f",{KYxuk:o}),"data-section-signature":"photo_viewer",children:[e(l),a(l),t(l)]})},ce=e=>g(Q,{...e}),me=e=>g(q,{...e}),he=e=>g(V,{...e}),ve=e=>g(j,{queryProps:e,renderBadge:ce,renderCarouselPane:me,renderAlbumPane:he}),pe=()=>g(F,{renderMediaWindow:ve});return[()=>{R=Z,ee.defaultProps={avatarData:[]},D=ee,ae.defaultProps={title:"",count:0,renderIcon:te},S=ae,E=re,z={clientWidth:60,clientHeight:50},H=_((e=>({containerDimensions:de(e.meta.device.viewportCategory)})))(i),$=_(((e,a)=>{var t;return{viewportCategory:e.meta.device.viewportCategory,carouselIndex:(null==(t=l(e).currentIndex)?void 0:t[`${a.locationId}`])||0}}),{updateCarouselIndex:o.updateCurrentIndex})(ue),W=class extends y{constructor(...e){super(...e),this.renderCarousel=({loading:e,media:a,getNextPage:t})=>{var{album:l,locationId:o,geoId:i,postPhotosUrl:n,writeReviewUrl:r,locationName:d}=this.props,{totalMediaCount:u,albumId:s,name:c}=l;return!e||a&&u?a&&0!==u?g($,{locationId:o,geoId:i,media:a,totalMediaCount:u,getNextPage:t,albumId:s,albumName:c,postPhotosUrl:n,writeReviewUrl:r,locationName:d}):g(E,{locationId:o,geoId:i}):g(U,{height:"100%",width:"100%"})}}render(){var{loading:e,locationId:a,geoId:t,client:l,initOffset:o,album:i}=this.props;if(e&&!i||!a)return g(U,{height:"100%",width:"100%"});if(!t)throw new Error("No geoId provided to CarouselPane");if(!i)return g(E,{locationId:a,geoId:t});var{totalMediaCount:n,albumId:r,mediaList:d,dataStrategy:u}=i;return g(s,{locationId:a,albumId:r,client:l,dataStrategy:u,filter:k(),initMedia:d,initOffset:o,totalMediaCount:n,pageSize:20,uniqueId:`${a}`,render:this.renderCarousel})}},j=T(se),q=_(((e,{location:a,windowPanes:t,loading:l})=>{var o,i,n,r,d,u,s,c,m,h,v,p,g,I,_,f,b,w=null!=(o=(null!=(i=null==a?void 0:a.locationId)?i:null)||(null==e||null==(n=e.page)?void 0:n.detailId))?o:null!=(r=null==e||null==(d=e.page)||null==(u=d.transData)||null==(s=u.location)?void 0:s.locationId)?r:0;return{locationId:w,album:null!=(c=null!=(m=null==t||null==(h=t[0])?void 0:h[0])?m:null==e||null==(v=e.page)||null==(p=v.transData)?void 0:p.album)?c:null,geoId:null!=(g=null==e||null==(I=e.page)?void 0:I.geoId)?g:0,client:"hra",initOffset:20,loading:l,postPhotosUrl:null!=(_=null==a?void 0:a.postPhotosUrl)?_:`/PostPhotos-d${w}`,writeReviewUrl:null!=(f=null==a?void 0:a.writeUserReviewUrl)?f:`/UserReview-d${w}`,locationName:null!=(b=null==a?void 0:a.name)?b:null}}))(W),V=_(((e,{location:a,windowPanes:t,loading:l})=>{var o,i,n,r,d;return{albums:null!=(o=null==t?void 0:t[1])?o:null,locationId:null!=(i=null==a?void 0:a.locationId)?i:0,avatarData:null!=(n=null==a||null==(r=a.travelerAlbum)||null==(d=r[0])?void 0:d.photos)?n:null,geoId:e.page.geoId,loading:l}}))(ie),F=c("hra",m()),e({ATFNoPhotoCTA:E,AlbumThumbnailIcon:D,AlbumThumbnailOverlay:S,default:pe})},[e=>(t=e.AlbumTypes,l=e.getMediaCarouselState,o=e.MEDIA_CAROUSEL_ACTIONS,i=e.MediaCarousel,n=e.Mediastrip,r=e.ThinGeoCTA,d=e.PhotoSource,u=e.PhotoCount,s=e.AlbumPagingProvider,c=e.connectMediaWindowContainer),e=>m=e.getConfigurationForHrAtfMediaWindow,e=>h=e.CertificateOfExcellence,e=>v=e.TravelersChoice,e=>p=e.useViewportCategory,e=>(g=e.jsx,I=e.jsxs),e=>_=e.connect,e=>f=e.default,e=>b=e.HasBeenVisible,e=>w=e.BBMLInteractionLogger,e=>N=e.default,e=>C=e.Thumbnail,e=>P=e.featureIsEnabled,e=>A=e.openMediaViewer,e=>M=e.Icon,e=>L=e.FacePile,e=>(y=e.PureComponent,T=e.memo),e=>U=e.default,e=>k=e.getMediaFilterToRetrieveAllPhotos,e=>O=e.default,e=>x=e.useLocalize,e=>B=e.useHRExpandedCommerce]]},["1mhdyo","k5n2qt","13mqm4","12q3kw","1ys6v1","121h32","12mj4n","4axon3","1w0dpw","15nmd8","fkji80","0tr9w6","skjzuv","uk99rb","1ybxsm","1eag60","1o4yt4","u59av4","13w1vr","4nzso8","17thqz","wsk8ra"]]);
