(this.$WP=this.$WP||[]).push(["1shzb6",(e,o)=>{"use strict";var t,r,n,l,i,c,a,d,s,p,u,m,h,O,E,g,R,b,v,T,f,w,y,P,j,L,_,k,I,M,A,N="_m",F=["Video","Photo","LinkPost"],C=["Review","ReviewMgmtResponse","Photo","Video","LinkPost","ForumPost","Trip","RoomTip","ApiLocationTopic","ApiTopicPosting"],D=({sectionActor:e,deleteObject:o,onEdit:r,untagObject:n,closeOverflowOnScroll:l,sectionObject:c,sectionObjectForType:a,overrideItems:s})=>{var{current:p}=t(`ReportIAP:${Math.random()}`);return k(_,{children:k(O,{pid:40474,children:t=>k(i,{name:p,children:i=>k(h,{children:u=>k(d,{profile:e,children:d=>k(A,{sectionActor:e,reportModalName:p,onReport:i,logInteraction:u,loginGate:t,deleteObject:o,sectionObjectForType:a,onEdit:r,untagObject:n,sectionObject:c,overrideItems:s,gatedAction:d,closeOverflowOnScroll:l})})})})})})};return[()=>{e("WrappedSectionOverflowMenu$1",A=class extends r{constructor(...e){super(...e),this.renderReportModal=e=>{var{reportModalName:o}=this.props,t=this.props.sectionActor&&this.props.sectionActor.userId,r=g(e);switch(e.__typename){case"RoomTip":case"Review":return n(L,{...r,modalName:o,key:"report"});case"ReviewMgmtResponse":return k(j,{modalName:o,userId:t,responseId:r.contentId});case"Photo":return n(P,{...r,modalName:o,key:"report"});case"Video":return n(y,{...r,modalName:o,key:"report"});case"LinkPost":return n(w,{...r,modalName:o,key:"report"});case"ForumPost":return n(f,{...r,modalName:o,key:"report"});case"Trip":return n(T,{...r,modalName:o,key:"report"});case"Repost":return n(v,{...r,modalName:o,key:"report"});case"ApiLocationTopic":return n(b,{...r,modalName:o,key:"report"});case"ApiTopicPosting":return n(R,{...r,modalName:o,key:"report"});default:return console.error(`Tried to report unsupported report type ${e.__typename}:${r.contentId}`),null}}}renderList({reportEnabled:e,editEnabled:o,deleteEnabled:t,untagEnabled:r,followEnabled:n,onDelete:i,onUntag:c,mergedSectionObjectForType:a}){var{onEdit:d,onReport:h,loginGate:O,logInteraction:g,sectionActor:R,closeOverflowOnScroll:b}=this.props,v=[],T=E({module:"Reviews",action:"review_report_click",context:(null==R?void 0:R.userId)||""}),f=E({module:"Reviews",action:"review_follow_click",context:(null==R?void 0:R.userId)||""});return e&&v.push(k(m,{onClick:({event:e,close:o})=>{g(e,"report"),T();var t=()=>{h(),e.stopPropagation(),o()};O?O().then((()=>{t()})):t()},children:k(l,{id:"social_report_1"})},"report")),o&&v.push(k(m,{onClick:({event:e,close:o})=>{"function"==typeof d&&d(),e.stopPropagation(),o()},children:k("span",{children:k(l,{id:"trips_edit_CTA"})})},"edit")),t&&i&&v.push(k(m,{onClick:({event:e,close:o})=>{g(e,"delete"),"function"==typeof i&&i(),e.stopPropagation(),o()},children:k("span",{"data-test-target":"delete-item",children:k(l,{id:"inbox_swipe_delete"})})},"delete")),n&&R&&v.push(k(m,{onClick:({event:e,close:o})=>{this.props.gatedAction(),f(),e.stopPropagation(),o()},children:k(s,{profile:R})},"follow")),r&&c&&v.push(k(m,{onClick:({event:e,close:o})=>{g(e,"untag"),"function"==typeof c&&c(),e.stopPropagation(),o()},children:k("span",{children:k(l,{id:"social_untag_me"})})},"untag")),I(M,{children:[e?this.renderReportModal(a.REPORT):null,k(p,{closeOnScroll:b,onClick:e=>g(e,"overflowMenuClick"),iconColor:"BLACK",children:k(u,{children:v})})]})}render(){var e,{deleteObject:o,onEdit:t,untagObject:r,sectionActor:n,sectionObject:l,sectionObjectForType:i,overrideItems:d={}}=this.props;if(!l&&!i)return null;var s,p,u={...l?(s=["REPORT","DELETE","EDIT","FOLLOW","UNTAG"].map((e=>[e,l])),p={},s.forEach((([e,o])=>{p[e]=o})),p):{},...i},m=n&&n.isMe,h="Repost"===u.REPORT.__typename&&C.includes(null==(e=u.REPORT.repostedObject)?void 0:e.__typename)||C.includes(u.REPORT.__typename)&&!1!==d.REPORT&&(d.REPORT||!m),O=F.includes(u.EDIT.__typename)&&t&&!(!1===d.EDIT)&&(!0===d.EDIT||m),E=o&&u.DELETE&&!1!==d.DELETE&&(d.DELETE||m),g=!1!==d.FOLLOW&&n&&(d.FOLLOW||!m),R=r&&u.UNTAG&&!1!==d.UNTAG;return h||O||E||g||R?E?k(c,{objectType:u.DELETE.__typename,deleteObject:o,shiftY:-5,below:!0,alignEdge:"right",children:(e,o)=>I(M,{children:[k(a,{untagObject:r,shiftY:-5,below:!0,alignEdge:"right",children:(e,t)=>I(M,{children:[this.renderList({reportEnabled:h,editEnabled:O,deleteEnabled:E,untagEnabled:R,followEnabled:g,mergedSectionObjectForType:u,onDelete:o,onUntag:t}),k("span",{className:N,ref:e})]})}),k("span",{className:N,ref:e})]})}):k(a,{untagObject:r,shiftY:-5,below:!0,alignEdge:"right",children:(e,o)=>I(M,{children:[this.renderList({reportEnabled:h,editEnabled:O,deleteEnabled:E,untagEnabled:R,followEnabled:g,mergedSectionObjectForType:u,onDelete:null,onUntag:o}),k("span",{className:N,ref:e})]})}):null}}),A.defaultProps={onEdit:void 0,untagObject:void 0,deleteObject:void 0,sectionObjectForType:void 0,closeOverflowOnScroll:!1},e("SectionOverflowMenu",D)},[e=>(t=e.useRef,r=e.Component,n=e.createElement),e=>l=e.default,e=>i=e.Opener,e=>(c=e.DeleteConfirmation,a=e.UntagConfirmation),e=>(d=e.FollowAction,s=e.FollowText),e=>(p=e.OverflowUI,u=e.OverflowUIList,m=e.OverflowUIListItem),e=>h=e.InteractionLogger,e=>O=e.SocialLoginGate,e=>E=e.useGARecordCallback,e=>(g=e.reportPropsFromObject,R=e.ReportLocationTopicPostModal,b=e.ReportLocationTopicModal,v=e.ReportRepostModal,T=e.ReportTripModal,f=e.ReportForumModal,w=e.ReportLinkModal,y=e.ReportVideoModal,P=e.ReportPhotoModal,j=e.ReportOwnerResponseModal,L=e.ReportReviewModal),e=>_=e.HideOnReadonly,e=>(k=e.jsx,I=e.jsxs,M=e.Fragment)]]},["1o4yt4","17thqz","80hn7v","zx93be","13ly98","1dlkpw","yc8qq2","10506z","32pwc7","146708","zjrz9w","121h32"]]);
