(this.$WP=this.$WP||[]).push(["1vmz0v",(e,i)=>{"use strict";var a,o,t,l,r,n,s,c,d,m,h,p,u,g,v,f,y,k,b,w,_,C,R,N,P,S,D,x,T,I,B,A,L,V,z,O,M,j,E,F,H,U,q,W,K,G,Y,J,$,Z,X,Q,ee,ie,ae,oe,te,le,re,ne,se,ce,de,me,he,pe,ue,ge,ve,fe,ye,ke,be,we,_e,Ce,Re,Ne,Pe,Se,De,xe,Te,Ie,Be,Ae,Le,Ve,ze,Oe,Me;function je(e,i){if("string"==typeof e){try{var a=Date.parse(e);if(!Number.isNaN(a))return i.formatDate("date_medium",new Date(a))}catch(e){}return e}return i.formatDate("date_medium",e)}function Ee(e,i,a,o){return{type:"cancellation",text:"None"===e?o.string("plus_roomlist_non_refundable"):"Full"===e?i?o.string("plus_roomlist_free_cancellation_until",{deadline:je(i,a)}):o.string("plus_roomlist_free_cancellation"):o.string("plus_roomlist_see_cancellation_policy")}}function Fe(e,i,a){return 0===e&&"stay"===i?{type:"chargeTime",text:a.string("plus_roomlist_book_now_pay_later")}:null}function He({refundablePolicy:e,cancellationDeadline:i,rawTotalDueToday:a,chargeTime:o,mealPlanAmenities:t}){var l,r=m(),{localize:n}=h();return{bookingPerks:[...(l=t,l.filter((e=>"coffee-tea-cafe"===e.cssClass||"restaurants"===e.cssClass)).map((e=>({type:"mealType",text:e.amenityName})))),Ee(e,i,r,n),Fe(a,o,n)].filter(Boolean)}}var Ue=({name:e})=>{var i,a=(null==(i=ve.get(e.toLowerCase()))?void 0:i.type)||void 0;return O(r,{display:"flex",children:[void 0!==a&&M(r,{marginRight:"spacing-02",display:"flex",justifyContent:"flex-start",alignItems:"center",children:M(a,{size:20})}),M(r,{display:"flex",justifyContent:"flex-start",alignItems:"center",children:M(z,{variant:"body-01",children:e})})]})},qe=({totalDiscount:e,totalPriceWithoutDiscount:i,totalPrice:o,variant:t="FULL",nightlyRate:l,nightlyTaxes:n,isCard:s,cashbackReward:c,optimusPerks:m,isRedesign:h,isIbBranded:p=!1})=>{var[u,g]=a(!1),v=q({experimentKeys:["plus_preference_test_1646419425"]}),f="test"===(null==v?void 0:v.plus_preference_test_1646419425),y=c&&!f,k=f&&c||null,b=e?i:void 0;return O(j,{children:["FULL"===t&&(l.length?O("div",{children:[O("div",{className:E("bMqJh",{"kEelm MI":!!s,XmzRm:!!h}),children:[O(r,{display:"flex",flexDirection:"row",children:[M(z,{variant:"title-04",display:"inline",children:M("span",{"data-automation":"totalPrice",children:l})}),M("span",{className:"DcLVS q",children:M(z,{variant:"body-01",children:M(d,{id:"hr_ib_offer_per_night"})})})]}),!s&&n&&M(z,{variant:"supporting-02",display:"inline",children:M("span",{className:"xROvL q",children:M(d,{id:"plus_roomlist_taxes_and_fees_v2",args:{0:n}})})})]}),y&&!p&&O(j,{children:[M("div",{className:h?void 0:"Mj",children:M(K,{onClick:()=>g(!0),variant:"accent",children:M(z,{variant:"title-04",color:"accentPurpleText",display:"inline-block",children:M("div",{className:"sjMyr Wh",children:c?m&&m.length>0?M(d,{id:"plus_get_cashback_reward_and_perks_v2",args:{cashbackReward:c}}):M(d,{id:"plus_get_cashback_reward_v3",args:{cashbackReward:c}}):null})})})}),u&&M(Y,{variant:"steps",onClose:()=>g(!1),perks:m,cashbackDisplayAmount:c,showCloseButton:!1})]})]}):O(z,{variant:"title-04",children:[b&&M("span",{"data-automation":"strikethroughPrice",className:"kHymA",children:b}),o&&M("span",{"data-automation":"totalPrice",className:"vpcvQ",children:o})]})),(e||k)&&!y&&!p&&M(z,{variant:h&&s?"title-04":"supporting-01",color:"accentPurpleText",children:M("span",{className:"Wd",children:M(d,"PARTIAL"===t?{id:"plus_hotels_callout_member_saving_at_least",args:{saving:e||k}}:{id:"plus_hotels_callout_member_saving",args:{saving:e||k}})})})]})},We=({width:e,height:i})=>{var a=se();return M(r,{display:"flex",flexDirection:"column",justifyContent:"center",alignContent:"center",className:"B1 Z BB _Z",children:M(r,{display:"flex",flexDirection:"row",justifyContent:"center",alignContent:"center",children:M("img",{alt:"Missing Room Content",height:i,width:e,src:`${a}/img2/plus/plus-room-img404.svg`,style:{maxWidth:"80%"}})})})},Ke="OhvdC",Ge="FxPPo",Ye="qWlNw",Je="DEfPe",$e="PESKz",Ze="bfvOo",Xe="gOhJV",Qe="nwdKA",ei=({children:e})=>M("div",{className:"anDEz w",children:M("div",{className:"MmGvV t _U s l",children:e})}),ii=({offerData:e,room:i,onSelectRoom:t})=>{var l=o((e=>t(i,e)),[t,i]),[r,n]=a(!1);r&&i.rateVerification&&n(!1);var s,c=()=>{n(!0)};return M("div",{...(s=ae(e,void 0),0===Object.keys(s).length||(delete s["data-early-click-target"],i.bookingClickToken&&(s["data-clicktoken"]=i.bookingClickToken)),s),onClick:e?e=>{n(!0),t(i,e)}:c,children:M(W,{size:"small",variant:"commerce",disabled:r,onClick:e?c:l,loading:r,"aria-label":"Select Room",dataAttributes:{"data-automation":"selectRoomButton"},children:M(d,{id:"plus_select_room_btn"})})})},ai=/(<([^>]+)>)/gi,oi=e=>e.replace(ai," "),ti=({offerData:e,room:i,onViewRoom:a,onSelectRoom:l,onViewRoomDetail:n,hidePhotos:s,isCashback:c,optimusPerks:m,isIbBranded:h})=>{var{bookingPerks:p}=He(i),u="MOBILE"===g(),v=o((()=>n(i)),[n,i]),f=o((e=>{e.preventDefault(),v()}),[v]),y=t((()=>te({text:_e(i.description),max:100})),[i.description]),k=i.modifiedFields&&i.modifiedFields.includes("photos")?M(d,{id:"plus_roomlist_photos_disclaimer"}):void 0,b=h||"IB"===(null==e?void 0:e.optimusBranding);return M(ce,{onVisible:()=>a(i),children:a=>O(r,{display:"flex",flexDirection:"row",alignItems:"flex-start",children:[s?null:M("div",{className:Ye,children:M(be,{children:i.photos.length?O(j,{children:[!k&&M(F,{height:"100%",width:"100%",noCta:!0,photos:i.photos,totalCount:i.photos.length,showIndicatorDots:!u,allowOverClicking:!0,onClick:v}),k&&i.photos[0].photoSizes&&O("div",{className:"lROGe",children:[M("img",{className:"wycfz _C",src:i.photos[0].photoSizes[0].url,alt:"Fallback for rooms"}),O("div",{className:"rekmq",children:[k,M("div",{className:"ARQJO"})]})]})]}):M(re,{href:"/",theme:"image",onClick:f,children:M(ke,{})})})}),M("div",{className:E(Ke,{[Qe]:!s}),ref:a,"data-automation":"room-summary",children:O("div",{className:$e,children:[O("div",{children:[M(re,{href:"/",theme:"standalone",onClick:f,children:M(z,{elementType:"h3",variant:"title-04",marginBottom:"spacing-02",children:i.title})}),O("div",{className:Xe,children:[y&&M(z,{variant:"body-01",children:M("span",{dangerouslySetInnerHTML:{__html:y}})}),p.length&&M("div",{className:"yHyjf",children:M(z,{variant:"body-01",children:M("ul",{className:"oqryO",children:p.map((e=>M("li",{className:"JjFHG",children:e.text},e.text)))})})})]}),M("div",{className:Ge,"data-automation":"roomListDetailsLink",children:O(K,{variant:"primary",onClick:f,children:[M(d,{id:"plus_roomlist_room_detail"}),M(le,{size:18})]})})]}),O("div",{className:Je,children:[!c&&!b&&M("div",{className:"hvava",children:M(ne,{width:u?150:void 0})}),O("div",{className:Ze,children:[M("div",{className:"wRWxW",children:M(ye,{totalPrice:i.displayPrice,totalDiscount:i.totalOptimusDiscount,totalPriceWithoutDiscount:i.referenceRateDisplayPrice,nightlyRate:i.nightlyRate,nightlyTaxes:i.excludedTaxesAndFees,isCard:!0,cashbackReward:i.cashbackReward,optimusPerks:m,isIbBranded:b})}),M("div",{className:c&&"jexSt",children:M(we,{offerData:e,room:i,onSelectRoom:l})})]})]})]})})]})})},li=({partialRoom:e,onViewRoom:i,onSelectShowPrice:a,onViewRoomDetail:l,hidePhotos:n})=>{var s,c="MOBILE"===g(),m=o((()=>l(e)),[l,e]),h=o((e=>{e.preventDefault(),m()}),[m]),p=t((()=>te({text:_e(e.longDescription),max:100})),[e.longDescription]),u=(s=e.photos)&&s.length?s.map(((e,i)=>({id:i,photoSizes:[e]}))):[];return M(ce,{onVisible:()=>i(e),children:i=>O(r,{display:"flex",flexDirection:"row",alignItems:"flex-start",children:[n?null:M("div",{className:Ye,children:M(be,{children:e.photos.length?M(F,{height:"100%",width:"100%",noCta:!0,photos:u,totalCount:u?null==u?void 0:u.length:0,showIndicatorDots:!c,allowOverClicking:!0,onClick:m}):M(re,{href:"/",theme:"image",onClick:h,children:M(ke,{})})})}),M("div",{className:E(Ke,{[Qe]:!n}),ref:i,children:O("div",{className:$e,children:[O("div",{children:[M(re,{href:"/",theme:"standalone",onClick:h,children:M(z,{elementType:"h3",variant:"title-04",marginBottom:"spacing-02",children:e.shortDescription})}),M("div",{className:Xe,children:p&&M(z,{variant:"body-01",children:M("span",{dangerouslySetInnerHTML:{__html:p}})})}),M("div",{className:Ge,"data-automation":"roomListDetailsLink",children:O(K,{variant:"primary",onClick:h,children:[M(d,{id:"plus_roomlist_room_detail"}),M(le,{size:18})]})})]}),M("div",{className:Je,children:M("div",{className:Ze,children:M(W,{size:"small",variant:"commerce",onClick:()=>a(e),children:M(d,{id:"show_prices"})})})})]})})]})})},ri=({room:e,onViewRoom:i,onViewRoomDetail:a,hidePhotos:t})=>{var l="MOBILE"===g(),{maxOccupancy:n,photos:s,title:c,bedConfiguration:m}=e,h=o((()=>a(e)),[a,e]),p=o((e=>{e.preventDefault(),h()}),[h]),u=e.modifiedFields&&e.modifiedFields.includes("photos")?M(d,{id:"plus_roomlist_photos_disclaimer"}):void 0;return M(ce,{onVisible:()=>i(e),children:i=>O(r,{display:"flex",flexDirection:["column","row","row"],alignItems:"flex-start",children:[t?null:M("div",{className:"KkNCH",children:M(be,{children:s.length?O(j,{children:[!u&&M(F,{height:"100%",width:"100%",noCta:!0,photos:s,totalCount:s.length,showIndicatorDots:!l,allowOverClicking:!0,onClick:h}),u&&s[0].photoSizes&&O("div",{className:"MxdKS f",children:[M("img",{className:"kVuJL _C",src:s[0].photoSizes[0].url,alt:"Fallback for rooms"}),O("div",{className:"dzjDp",children:[u,M("div",{className:"mrQdK"})]})]})]}):M(re,{href:"/",theme:"image",onClick:p,children:M(ke,{})})})}),M("div",{className:E("ZmmBX",{Nyfpp:t}),ref:i,"data-automation":"room-summary",children:O("div",{className:"FTwrr",children:[e.mealPlanAmenities.some((e=>"restaurants"===e.cssClass))&&M("div",{className:"KlfBw f j u Gk z R4 q",children:M(z,{variant:"label-01",children:M(d,{id:"plus_room_grid_all_inclusive"})})}),M(re,{href:"/",theme:"standalone",onClick:p,children:M(z,{elementType:"h3",variant:"title-04",marginBottom:"spacing-02",children:c})}),O("div",{className:"YOAYi f",children:[n&&n.numberOfAdults&&M(z,{variant:"body-01",children:M(d,{id:"plus_hotel_sleeps",args:{nGuests:n.numberOfAdults+(n.numberOfChildren||0)}})}),m&&M(z,{variant:"body-01",children:m})]}),M("div",{className:"YJUQp","data-automation":"roomListDetailsLink",children:M(K,{variant:"primary",onClick:p,children:M(z,{variant:"body-01",children:M(d,{id:"plus_roomlist_room_detail"})})})})]})})]})})},ni=({offerData:e,room:i,onSelectRoom:a,optimusPerks:o})=>{var{bookingPerks:t}=He(i),l="IB"===(null==e?void 0:e.optimusBranding);return M(r,{display:"flex",flexDirection:"row",alignItems:"flex-start",children:O(r,{className:"Ma Nj e",display:"flex",justifyContent:"flex-start",children:[M(r,{className:"DqTrF Pv",children:M(ye,{totalPrice:i.displayPrice,totalDiscount:i.totalOptimusDiscount,totalPriceWithoutDiscount:i.referenceRateDisplayPrice,nightlyRate:i.nightlyRate,nightlyTaxes:i.excludedTaxesAndFees,cashbackReward:i.cashbackReward,optimusPerks:o,isRedesign:!0,isCard:!0,isIbBranded:l})}),t.length&&M(r,{className:"LBewo MH",children:M("ul",{children:t.map((e=>M(z,{variant:"body-01",color:"cancellation"===e.type?"greenHighlightText":"inherit",children:O("li",{className:"MH",children:[M("span",{className:"qUMCp"}),e.text]},e.text)})))})}),O(r,{className:"oHsAd",children:[M(r,{className:i.cashbackReward?"G f":void 0,marginBottom:"spacing-02",children:M(we,{offerData:e,room:i,onSelectRoom:a})}),i.isUrgent&&i.numRoomsAvailable&&M(z,{variant:"supporting-01",children:M(p,{id:"plus_num_rooms_left",args:{className:"Wd",nRoom:i.numRoomsAvailable}})})]})]})})},si=({amenities:e,roomIndex:i})=>{var[t,l]=a([]);(e=>{e.sort(((e,i)=>{var a,o;return((null==(a=ve.get(e.toLowerCase()))?void 0:a.order)||100)-((null==(o=ve.get(i.toLowerCase()))?void 0:o.order)||100)}))})(e);var n=o(((e,i)=>t.includes(i)?e:e.slice(0,7)),[t]),s=o((e=>{l((i=>[...i,e]))}),[]),c=o((e=>{l((i=>[...i.filter((i=>i!==e))]))}),[]);return O(r,{className:t.includes(i)?"hSUvP w":"koxkY w",children:[n(e,i).map((e=>M(r,{marginBottom:"spacing-02",children:M(z,{variant:"body-01",children:M(fe,{name:e})})},e))),e.length>7&&(t.includes(i)?M(K,{variant:"primary",onClick:()=>c(i),children:M(z,{variant:"body-01",children:M(d,{id:"plus_list_collapse"})})}):M(K,{variant:"primary",onClick:()=>s(i),children:M(z,{variant:"body-01",children:M(d,{id:"plus_room_grid_plus_n_more",args:{nAmenities:e.length-7}})})}))]})},ci=({maxOccupancy:e,iconSize:i})=>{for(var a=[],o=0;o<e.numberOfAdults;o++)a.push(M(X,{size:i},`A${o}`));for(var t=0;t<e.numberOfChildren;t++)a.push(M(Q,{size:i},`C${t}`));return a},di=({title:e,children:i,sectionDisclaimer:a,lastLineItem:o=!1,color:t="secondaryText"})=>O(r,{marginTop:"spacing-04",children:[a?M(ee,{triggeringElement:O(z,{elementType:"h4",variant:"title-05",color:t,children:[e,M("span",{className:"_W Vm PH",children:M(ie,{size:14})})]}),content:M(z,{variant:"body-01",color:t,children:a}),variant:"top-caret"}):M(z,{elementType:"h4",variant:"title-05",color:t,children:e}),M(z,{variant:"body-01",color:t,marginTop:"spacing-02",marginBottom:o?"spacing-02":"spacing-00",children:i})]}),mi="whVct",hi="TBzpv",pi="mqfFx",ui="GvwJN",gi="rjSVe _S Z1",vi="WKPyS k",fi="tiPhK _g",yi="AkWmH",ki="uSESK",bi=({offerData:e,room:i,onSelectRoom:a,backButtonHandler:o,isCashback:t=!1,optimusPerks:l,isRoomGridRedesign:s})=>{var{photos:c,title:m,description:p,cancellationPolicy:u,displayPrice:v,totalOptimusDiscount:f,referenceRateDisplayPrice:y,amenities:k,mealPlanAmenities:b,taxesAndFees:w,maxOccupancy:_,modifiedFields:C,excludedTaxesAndFees:R,nightlyRate:N}=i,P=g(),{localize:S}=h(),D="MOBILE"===P,x=b.map((e=>e.amenityName)),T=[...new Set([...x,...k])].filter((e=>!!e)),I=C.includes("amenities")?M(d,{id:"plus_roomlist_amenities_disclaimer"}):void 0,B=C.includes("photos")?M(d,{id:"plus_roomlist_photos_disclaimer"}):void 0,{roomAvailable:A=!0,priceMismatch:L=!1}=i.rateVerification||{},V="IB"===(null==e?void 0:e.optimusBranding);return O("div",{className:E(mi,{[pi]:!!c.length,[hi]:!!s}),children:[o&&O(j,{children:[M(r,{className:gi,marginTop:"spacing-03",marginLeft:"spacing-03",children:M(G,{variant:"dark",onClick:o,icon:J,"aria-label":S.string("mobile_back_8e0"),size:"small"})}),!c.length&&M(r,{marginTop:"spacing-05"})]}),c.length?O(j,{children:[!B&&M("div",{className:E(ui,{[hi]:s}),children:M(F,{height:"100%",width:"100%",photos:c,totalCount:c.length,showIndicatorDots:D||s,noCta:!0,centerImage:!D&&s})}),B&&c[0].photoSizes&&M("div",{className:E(ui,{[hi]:s}),children:O("div",{className:E("PCYuE",{[hi]:s}),children:[M("img",{className:E("lhAZt _C",{[hi]:s}),src:c[0].photoSizes[0].url,alt:"Fallback for rooms"}),M("div",{className:"WqDSd",children:B})]})})]}):void 0,O("div",{className:vi,children:[M("div",{className:fi,children:O("div",{className:yi,children:[M(z,{elementType:"h3",variant:"title-04",marginTop:"spacing-02",children:m}),M(z,{variant:"body-01",color:"secondaryText",marginTop:"spacing-02",children:M("span",{dangerouslySetInnerHTML:{__html:p}})}),T.length&&!s?M(xe,{title:M(d,{id:"plus_roomlist_amenities"}),sectionDisclaimer:I,children:M(n,{elementType:"ul",space:"spacing-02",children:T.map(((e,i)=>O("li",{children:[M("span",{className:"gxUDa"}),e]},`Amenity${i+1}`)))})}):null,M(xe,{title:M(d,{id:"plus_roomlist_cancellation_policy"}),color:s?"greenHighlightText":void 0,children:M(H,{children:M("span",{dangerouslySetInnerHTML:{__html:u},className:s?"MEGgt":void 0})})}),s&&O("div",{className:"cEGjA",children:[M("div",{className:"grsFu",children:M(xe,{title:M(d,{id:"plus_roomlist_amenities"}),children:i.amenities.map((e=>M(fe,{name:e},`Amenity-${e}`)))})}),!V&&l&&l.length>0&&M("div",{className:"dFWJq",children:M(xe,{title:M("div",{className:"EPXfr",children:M(d,{id:"plus_room_grid_member_perks"})}),children:M(r,{elementType:"ul",className:"LdRPI",children:l.map((e=>M(r,{elementType:"li",className:"DXcrO",children:M(z,{variant:"body-01",children:e},`Perk-${e}`)})))})})})]}),_&&_.numberOfAdults>0&&!s?M(xe,{title:M(d,{id:"plus_roomlist_max_occupancy"}),lastLineItem:!0,children:M(De,{maxOccupancy:_,iconSize:24})}):null]})}),L&&M($,{noTitle:!0,source:"rate-availability"}),O("div",{className:ki,children:[M(U,{}),A?O("div",{className:"ngXCv u k",children:[M("div",{className:t?"COJfV":"yzcSH",children:M(ye,{totalDiscount:f,totalPrice:v,totalPriceWithoutDiscount:y,taxesAndFees:w,nightlyRate:N,nightlyTaxes:R,cashbackReward:i.cashbackReward,optimusPerks:l,isRedesign:s,isIbBranded:V})}),M(we,{onSelectRoom:a,offerData:e,room:i})]}):M(Z,{variant:"short",source:"rate-availability"})]})]})]})},wi=({offerData:e,room:i,onSelectRoom:a,onClose:o,isCashback:t,optimusPerks:l,isRoomGridRedesign:r})=>{var{bookingPerks:n}=He(i),{isWebview:s}=u(),d=g(),m="DESKTOP"===d,h=s&&"MOBILE"===d;return M(c,{bodyProps:{isFullBleed:!0,bodyScroll:"hidden"},containerProps:{roundedCorners:!0},hideBoxShadow:!0,enableCloseIcon:!h,onClose:o,width:0===i.photos.length&&m?"700px":void 0,children:M(Te,{offerData:e,room:i,bookingPerks:n,onSelectRoom:a,backButtonHandler:h?o:void 0,isCashback:t,optimusPerks:l,isRoomGridRedesign:r})})},_i=({partialRoom:e,onSelectShowPrice:i,backButtonHandler:a})=>{var{photos:o,shortDescription:t,longDescription:l}=e,r=g(),{localize:n}=h(),s="MOBILE"===r,c=(e=>e&&e.length?e.map(((e,i)=>({id:i,photoSizes:[e]}))):[])(o);return O("div",{className:E(mi,{[pi]:!!c.length}),children:[a&&O(j,{children:[M("button",{className:gi,onClick:a,type:"button","aria-label":n.string("mobile_back_8e0"),children:M(J,{size:24})}),!c.length&&M("div",{className:"Mk"})]}),c.length?M("div",{className:ui,children:M(F,{height:"100%",width:"100%",photos:c,totalCount:c.length,showIndicatorDots:s,noCta:!0})}):void 0,O("div",{className:vi,children:[M("div",{className:fi,children:O("div",{className:yi,children:[M(z,{elementType:"h3",variant:"title-04",marginTop:"spacing-02",children:t}),M(z,{variant:"body-01",color:"secondaryText",marginTop:"spacing-02",children:M("span",{dangerouslySetInnerHTML:{__html:l}})})]})}),O("div",{className:ki,children:[M(U,{}),M("div",{className:ki,children:M("div",{className:"JXyZv u k",children:M(W,{size:"small",variant:"commerce",onClick:i,children:M(d,{id:"show_prices"})})})})]})]})]})},Ci=({partialRoom:e,onSelectShowPrice:i,onClose:a})=>{var{isWebview:o}=u(),t=g(),l="DESKTOP"===t,r=o&&"MOBILE"===t;return M(c,{bodyProps:{isFullBleed:!0,bodyScroll:"hidden"},containerProps:{roundedCorners:!0},hideBoxShadow:!0,enableCloseIcon:!r,onClose:a,width:0===e.photos.length&&l?"700px":void 0,children:M(Be,{partialRoom:e,onSelectShowPrice:i,backButtonHandler:r?a:void 0})})},Ri=({data:e,pageSize:i,children:t})=>{var[l,r]=a(0),n=o((()=>(r(l+i),Promise.resolve())),[l,i]),s=e.slice(0,l+i),c=l+i<e.length;return M(j,{children:t(s,n,c)})},Ni=({offerData:e,hidePhotos:i,room:a,showDivider:o,onViewRoom:t,onSelectRoom:l,onViewRoomDetail:r,isCashback:n,optimusPerks:c,isIbBranded:d})=>{var{roomAvailable:m=!0,priceMismatch:h=!1}=a.rateVerification||{};return O(j,{children:[o&&M(s,{below:"TABLET",children:M(U,{marginY:"spacing-04"})}),h&&M($,{noTitle:!0,padding:"spacing-03",source:"rate-availability"}),m?M(Ce,{offerData:e,hidePhotos:i,room:a,onViewRoom:t,onSelectRoom:l,onViewRoomDetail:r,isCashback:n,optimusPerks:c,isIbBranded:d}):M(Z,{variant:"short",source:"rate-availability"})]})},Pi={buttonWrapper:"BtWPB",fitContentOnTablet:"NIegp",grid:"duUgd _T z P0",row:"gZzcj z _Z",cardContainer:"ovaEz",column:"uUDTz _Y G z H","column-3":"fFVfj","column-4":"RLcJT","column-5":"QWDZp",gridFirstElement:"lZiqF _Z",gridElement:"myISt _Z",roomTypeContainer:"aEEwl",amenitiesContainer:"jxNPV",priceContainer:"UpJpj",headerContainer:"ZGoQI",mobileDivider:"IpsqB"},Si=({offerData:e,rooms:i,onViewRoom:t,onSelectRoom:l,onViewRoomDetail:n,onShowAllRoomsClick:s,alwaysStretchShowAllButton:c,allowCollapse:m,pageSize:p=4,isCashback:u,optimusPerks:g,isRoomGridRedesign:v=!1,isIbBranded:f})=>{var[y,k]=a(!1),{localize:b}=h(),w=o((e=>{k(e),e&&s()}),[k,s]),_=o((e=>y?e:e.slice(0,p)),[y,p]),C=0,R=i.filter((e=>C<8?(C++,!0):e.totalOptimusDiscount)),N=R.every((e=>!e.photos.length)),P=[{title:b.string("plus_hotel_room_type"),columnSpan:5,marginLeft:"spacing-00",marginY:"spacing-03"},{title:b.string("plus_hotel_amenities"),columnSpan:3,marginLeft:"spacing-03",marginY:"spacing-03"},{title:b.string("plus_hotel_price"),columnSpan:4,marginLeft:"spacing-03",marginY:"spacing-03"}];return M(Le,{data:R,pageSize:p,children:(i,a,o)=>M(oe,{threshold:100,throttle:100,infiniteLoadOnMount:!1,hasMore:o,loadMore:a,children:(a,o,s,h)=>M("div",{ref:a,children:O("div",{ref:o,children:[!v&&_(i).map((i=>M(Ve,{offerData:e,hidePhotos:N,room:i,onViewRoom:t,onSelectRoom:l,onViewRoomDetail:n,showDivider:!0,isCashback:u,optimusPerks:g,isIbBranded:f},i.key))),v&&M(r,{paddingX:["spacing-00","spacing-02","spacing-02"],marginTop:"spacing-04",children:O("div",{className:Pi.grid,children:[M("div",{className:E(Pi.row,Pi.headerContainer),children:P.map(((e,i)=>M("div",{className:E(Pi.column,Pi[`column-${e.columnSpan}`]),children:M(r,{className:0!==i?Pi.gridElement:Pi.gridFirstElement,children:M(z,{variant:"title-04",marginLeft:e.marginLeft,marginY:e.marginY,children:e.title})})},`column${e.title}`)))}),_(i).map(((i,a)=>{var{roomAvailable:o=!0,priceMismatch:s=!1}=i.rateVerification||{};return M("div",{className:Pi.row,children:o?O(j,{children:[s&&M($,{noTitle:!0,padding:"spacing-00",source:"rate-availability"}),O("div",{className:Pi.cardContainer,children:[M("div",{className:E(Pi.column,Pi["column-5"]),children:M(r,{className:Pi.gridFirstElement,children:M(r,{className:Pi.roomTypeContainer,children:M(Ne,{room:i,onViewRoom:t,onViewRoomDetail:n,hidePhotos:N})})})}),M("div",{className:E(Pi.column,Pi["column-3"]),children:M(r,{className:Pi.gridElement,children:M(r,{className:Pi.amenitiesContainer,children:M(Se,{amenities:i.amenities,roomIndex:a})})})}),M("div",{className:E(Pi.column,Pi["column-4"]),children:M(r,{className:Pi.gridElement,children:M(r,{className:Pi.priceContainer,children:M(Pe,{offerData:e,room:i,onSelectRoom:l,optimusPerks:g})})})}),M("div",{className:Pi.mobileDivider,children:M(U,{marginY:"spacing-04"})})]})]}):M(Z,{variant:"short",source:"rate-availability"})},i.key)}))]})}),R.length>p&&!(y&&!m)&&M(r,{display:"flex",justifyContent:"center",paddingX:["spacing-04","spacing-04","spacing-00"],paddingY:["spacing-04","spacing-04","spacing-05"],children:M("div",{className:E(Pi.buttonWrapper,{[Pi.fitContentOnTablet]:!c}),children:M(W,{onClick:()=>{h||s(),w(!y)},fullWidth:!0,variant:"secondary",dataAttributes:{"data-automation":"see-more-rooms-button"},children:M(d,y?{id:"plus_roomlist_see_fewer"}:{id:"plus_roomlist_see_more"})})})})]})})})})},Di=({hidePhotos:e,partialRoom:i,showDivider:a,onViewRoom:o,onSelectShowPrice:t,onViewRoomDetail:l})=>O(j,{children:[a&&M(s,{below:"TABLET",children:M(U,{marginY:"spacing-04"})}),M(Re,{hidePhotos:e,partialRoom:i,onViewRoom:o,onSelectShowPrice:t,onViewRoomDetail:l})]}),xi=({partialRooms:e,onViewRoom:i,onSelectShowPrice:t,onViewRoomDetail:l,onShowAllRoomsClick:n,alwaysStretchShowAllButton:s,allowCollapse:c,pageSize:m=4})=>{var[h,p]=a(!1),u=o((e=>{p(e),e&&n()}),[p,n]),g=o((e=>h?e:e.slice(0,m)),[h,m]),v=0,f=e.filter((()=>v<8&&(v++,!0)));return M(Le,{data:f,pageSize:m,children:(e,a,o)=>M(oe,{threshold:100,throttle:100,infiniteLoadOnMount:!1,hasMore:o,loadMore:a,children:(a,o,n,p)=>M("div",{ref:a,children:O("div",{ref:o,children:[g(e).map(((e,a)=>M(Oe,{hidePhotos:!1,partialRoom:e,onViewRoom:i,onSelectShowPrice:t,onViewRoomDetail:l,showDivider:!0},`${a}_${e.shortDescription}`))),f.length>m&&!(h&&!c)&&M(r,{display:"flex",justifyContent:"center",paddingX:["spacing-04","spacing-04","spacing-00"],paddingY:["spacing-04","spacing-04","spacing-05"],children:M("div",{className:E("KrblR",{Hygjb:!s}),children:M(W,{onClick:()=>{p||n(),u(!h)},fullWidth:!0,variant:"secondary",children:M(d,h?{id:"plus_roomlist_see_fewer"}:{id:"plus_roomlist_see_more"})})})})]})})})})},Ti=({bookingSessionId:e,offerData:i,rooms:t,flow:n,onSelectRoom:s,locationId:c,alwaysStretchShowAllButton:d=!0,allowCollapse:m=!1,parentImpressionKey:h,isCashback:p,optimusPerks:u,isRoomGridRedesign:g=!1,isIbBranded:v})=>{var[f,y]=a(t),k=de(),b=me(),w=o((e=>{var{room:i,searchParams:a,onUpdate:o,onContinue:t}=e;if(!i.rateVerification&&i.partnerRoomInfo&&a){var l=e=>{console.error(e),t()};fetch(`/data/1.0/booking/room?${a.toString()}`,{method:"POST",credentials:"same-origin",headers:{"Content-Type":"application/json"},body:JSON.stringify({partnerRoomInfo:i.partnerRoomInfo})}).then((e=>e.json())).then((e=>{if(!e.error&&e.success&&e.rateAvailabilityCheck)if("not_supported"!==e.rateAvailabilityCheck.status){var a="available"===e.rateAvailabilityCheck.status,r=a?ue(e.rateAvailabilityCheck.priceUI):{},n={roomAvailable:a,priceMismatch:a&&i.displayPrice!==r.displayPrice},s={...i,...r,cashbackReward:i.cashbackReward,rateVerification:n};o(s,a?"available":void 0)}else t("not_supported");else l(e.error)})).catch((e=>{l(e)}))}else{var r=i.rateVerification&&i.rateVerification.roomAvailable?"available":void 0;t(r)}}),[]),_=pe(),{funnelKey:C}=l(he),[R,N]=a(void 0),P=o((e=>{k({optimusCheckoutRoomList:{funnelKey:C,pageviewUid:_,flow:n,roomId:e.key,locationId:c}})}),[k,C,_,n,c]),S=o((e=>{N(e),k({optimusCheckoutRoomDetail:{funnelKey:C,pageviewUid:_,flow:n,roomId:e.key,locationId:c}})}),[n,C,k,c,_]),D=o((()=>{N(null)}),[N]),x=o(((e,i,a,o)=>{b({impressionKey:C,pageUid:_,actionType:"click",actionSubType:"OptimusHotelCheckout",itemType:"roomSelectClick",itemGroup:n,itemId:e.key,team:"Plus",locationId:c,customData:JSON.stringify({parentImpressionKey:h})}),s(e);var t=i&&i.getAttribute("data-clicktoken")||null;if(t){var l=!(null==o||"not_supported"===o);globalThis.require(["trjs!commerce/offerclick"],(e=>{e.clickEvent(a,i,t,!1,void 0,l)}))}}),[n,C,c,b,s,_,h,!0]),T=o(((a,o)=>{o.persist();var{currentTarget:t,nativeEvent:l}=o;globalThis.require(["trjs!commerce/offerclick"],(o=>{var r=a.bookingClickToken||"",n=i&&i.clickToken||r||"",s=o.expandToken(n),c=null;try{(c=new URL(s.url||"",window.location.origin).searchParams).append("bsid",e),c.append("rdp",a.displayPrice)}catch(e){console.error(`Invalid clickToken URL: ${s.url}`,e)}w({room:a,searchParams:c,onContinue:e=>{x(a,t,l,e)},onUpdate:(e,i)=>{var{roomAvailable:a=!0,priceMismatch:o=!1}=e.rateVerification||{},r=f.findIndex((i=>i.key===e.key));f[r]=e,y([...f]),R&&N(f.find((e=>e.key===R.key))),a&&!o&&x(e,t,l,i)}})}))}),[x,w,f,y,R,N,!0,i,e]),I=o(((e,i)=>{R&&T(R,i)}),[R,T]),B=o((()=>{b({impressionKey:C,pageUid:_,actionType:"click",team:"Plus",actionSubType:"OptimusHotelCheckout",itemType:"showAllRoomsClick",itemGroup:n})}),[n,b,C,_]);return O(j,{children:[R&&M(Ie,{offerData:i,onClose:D,room:R,onSelectRoom:I,isCashback:p,optimusPerks:u,isRoomGridRedesign:g}),M(r,{paddingX:["spacing-00","spacing-03","spacing-03"],paddingBottom:"spacing-04",children:M(ze,{offerData:i,rooms:f,onViewRoom:P,onSelectRoom:T,onViewRoomDetail:S,onShowAllRoomsClick:B,alwaysStretchShowAllButton:d,allowCollapse:m,isCashback:p,optimusPerks:u,isRoomGridRedesign:g,isIbBranded:v})})]})},Ii=({partialRooms:e,flow:i,onSelectShowPrice:t,locationId:n,alwaysStretchShowAllButton:s=!0,allowCollapse:c=!1})=>{var d=de(),m=ge(),h=pe(),{funnelKey:p}=l(he),[u,g]=a(void 0),v=o((e=>{d({optimusCheckoutRoomList:{funnelKey:p,pageviewUid:h,flow:i,roomId:e.key,locationId:n,roomListVariant:"PARTIAL"}})}),[d,p,h,i,n]),f=o((e=>{g(e),d({optimusCheckoutRoomDetail:{funnelKey:p,pageviewUid:h,flow:i,roomId:e.key,locationId:n,roomListVariant:"PARTIAL"}})}),[i,p,d,n,h]),y=o((()=>{g(null)}),[g]),k=o((e=>{m({OptimusHotelCheckout:{roomSelectClick:{funnelKey:p,pageviewUid:h,flow:i,roomId:e.key,locationId:n,roomListVariant:"PARTIAL"}}}),t()}),[i,p,n,m,t,h]),b=o((()=>{u&&k(u)}),[u,k]),w=o((()=>{m({OptimusHotelCheckout:{showAllRoomsClick:{funnelKey:p,pageviewUid:h,flow:i}}})}),[i,m,p,h]);return O(j,{children:[u&&M(Ae,{onClose:y,partialRoom:u,onSelectShowPrice:b}),M(r,{paddingBottom:"spacing-04",children:M(Me,{partialRooms:e,onViewRoom:v,onSelectShowPrice:k,onViewRoomDetail:f,onShowAllRoomsClick:w,alwaysStretchShowAllButton:s,allowCollapse:c})})]})};return[()=>{ve=new Map([["free wifi",{type:v,order:1}],["wifi",{type:v,order:1}],["wifi with fee",{type:v,order:1}],["accessible room",{type:f,order:2}],["accessible room 2",{type:f,order:2}],["air conditioning",{type:y,order:3}],["air conditioning individually controlled in room",{type:y,order:3}],["balcony/lanai/terrace",{type:k,order:4}],["buffet breakfast",{type:b,order:5}],["meal included - breakfast",{type:b,order:5}],["meal included - continental breakfast",{type:b,order:5}],["meal included: full american breakfast",{type:b,order:5}],["breakfast included",{type:b,order:5}],["gulf view",{type:w,order:6}],["mountain view",{type:w,order:6}],["ocean view",{type:w,order:6}],["sofa bed",{type:_,order:7}],["full kitchen",{type:C,order:8}],["kitchen",{type:C,order:8}],["pets allowed",{type:R,order:9}],["non-refundable charge for pets",{type:R,order:9}],["refundable deposit for pets",{type:R,order:9}],["refrigerator",{type:N,order:10}],["refrigerator with ice maker",{type:N,order:10}],["mini-refrigerator",{type:N,order:10}],["shared bathroom",{type:P,order:11}],["second bathroom",{type:S,order:12}],["bathtub",{type:D,order:13}],["bathtub only",{type:D,order:13}],["bathtub/shower combination",{type:D,order:13}],["oversized bathtub",{type:D,order:13}],["high definition (hd) flat panel television - 32 inches or greater",{type:x,order:14}],["flatscreen tv",{type:x,order:14}],["minibar",{type:T,order:15}],["safe",{type:I,order:16}],["safe large enough to accommodate a laptop",{type:I,order:16}],["iron",{type:B,order:17}],["hairdryer",{type:A,order:18}],["hair dryer",{type:A,order:18}],["non-smoking",{type:L,order:19}],["smoking",{type:V,order:20}]]),fe=Ue,ye=qe,ke=We,be=ei,we=ii,_e=oi,Ce=ti,Re=li,Ne=ri,Pe=ni,Se=si,De=ci,xe=di,Te=bi,Ie=wi,Be=_i,Ae=Ci,Le=Ri,Ve=Ni,ze=Si,Oe=Di,Me=xi,e({PartialRoomGrid:Ii,default:Ti})},[e=>(a=e.useState,o=e.useCallback,t=e.useMemo,l=e.useContext),e=>(r=e.Box,n=e.Stack,s=e.Hidden),e=>c=e.default,e=>(d=e.default,m=e.useIntlFormatter,h=e.useLocalize,p=e.UnsafeLocalize),e=>u=e.useUserAgent,e=>g=e.useViewportCategory,e=>v=e.default,e=>f=e.default,e=>y=e.default,e=>k=e.default,e=>b=e.default,e=>w=e.default,e=>_=e.default,e=>C=e.default,e=>R=e.default,e=>N=e.default,e=>P=e.default,e=>S=e.default,e=>D=e.default,e=>x=e.default,e=>T=e.default,e=>I=e.default,e=>B=e.default,e=>A=e.default,e=>L=e.default,e=>V=e.default,e=>z=e.default,e=>(O=e.jsxs,M=e.jsx,j=e.Fragment),e=>E=e.default,e=>F=e.PhotoCarousel,e=>H=e.default,e=>U=e.default,e=>q=e.default,e=>(W=e.default,K=e.BorderlessButton,G=e.CircularButton),e=>Y=e.default,e=>J=e.default,e=>($=e.PriceMismatchAlert,Z=e.RoomUnavailableAlert),e=>X=e.default,e=>Q=e.default,e=>ee=e.ClickTooltip,e=>ie=e.default,e=>ae=e.getOfferElementProps,e=>oe=e.InfiniteLoader,e=>te=e.abbreviateToString,e=>le=e.default,e=>re=e.default,e=>ne=e.default,e=>se=e.useCdnPrefix,e=>ce=e.HasBeenVisible,e=>de=e.useImpressionLogger,e=>me=e.default,e=>he=e.FunnelTracking,e=>pe=e.usePageviewUid,e=>ue=e.mapRoomPriceInfo,e=>ge=e.useInteractionLogger]]},["1o4yt4","lyyh8d","17u7gi","17thqz","1nnprh","1ys6v1","92bbnp","2hdgr9","17wb8h","1ckgnr","1ktovr","1u9ykn","4sf8co","cgyk2p","yy6083","1y5ks3","yw8i09","2wld0u","40qrtk","da2n0f","9qbdxh","an500m","11f4d3","25hhwe","06gdt6","h1q710","1essqv","121h32","fkji80","9pmixz","livpad","covaqn","gugp1d","jppfwt","1bnv3w","17nq86","sfmsly","1ptzm1","177ib2","1xm2jz","zq967r","1nzwvr","uejbrm","wgun1f","7a7jm3","lr6tb6","1i2ow0","1s6q22","1w0dpw","1vumu0","1r73jw","1kkqcv","fgwvq1","vk3cpw","32pwc7"]]);
