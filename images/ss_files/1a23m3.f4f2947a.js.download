(this.$WP=this.$WP||[]).push(["1a23m3",(e,t)=>{"use strict";var r,a,s,n=e=>{var[t,r,a=""]=e?e.split("_"):[];return{rooms:parseInt(t,10),adults:parseInt(r,10),children:a.split(s).filter((e=>!!e.length)).map((e=>parseInt(e,10)))}},i=e=>!(isNaN(e)||e%1!=0),l=(e,t,r)=>i(e)&&e>=t&&e<=r,o=(e,t,r,a=-1)=>i(e)?Math.min(r,Math.max(t,e)):a,d=null,h=e=>{var t;if(e)try{var s=(e=>{for(var{rooms:t,adults:r,children:a}=e,s=t>0&&a?Math.floor(a.length/t):0,n=a?a.length-s*t:0,i=[],l=0,o=0;o<t;++o){var d;if(d=o<n?s+1:s){var h=Math.min(l+d,a.length),c=a.slice(l,h);l=h,i.push(c.join(","))}}return[`${t}`,`${r}`,i.join(":")].filter((e=>!!e.length)).join("_")})(e);r().dispatch(a.travelerInfo.setHotelsTravelerInfo(void 0,s,void 0)),(t=s)&&fetch("/UpdateSessionDatesAjax",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},credentials:"same-origin",body:`uguests=${t}`}),(e=>{globalThis.require(["trjs!ta/Core/TA.FireEvent","trjs!ta/util/Error","trjs!hotels/RoomsGuests"],((t,r,a)=>{d||(d=new a),d.update({nRooms:e.rooms,nAdults:e.adults,childrenAges:e.children});var s=d.updateStore();t.fireEvent("onLegacyGuestsChanged",s),t.fireEvent("searchFieldsChanged");try{var n;null!=(n=window.ta)&&n.page.processNewTravelInfo&&window.ta.page.processNewTravelInfo()}catch(e){r.record(e,"page-dates-interface: Failed to update with new guests")}}))})(e)}catch(e){}};return[()=>{s=new RegExp(",|:"),e({DEFAULT_GUEST_INFO:{rooms:1,adults:2,children:[]},HotelsValidation:{limits:{MIN_ROOMS:1,MAX_ROOMS:8,MIN_ADULTS:1,MAX_ADULTS:32,MIN_CHILDREN:0,MAX_CHILDREN:20,MIN_CHILD_AGE:0,MAX_CHILD_AGE:17},isValid:e=>{if(!e)return!1;var{rooms:t,adults:r,children:a}=e,s=l(t,1,8),n=l(r,1,32),i=a&&l(a.length,0,20)&&a.every((e=>l(e,0,17)));return s&&n&&i},validate:(e,t)=>{var{rooms:r,adults:a,children:s}=e,{rooms:n,adults:i,children:l=[]}=t,d=o(r,1,8,1),h=o(a,1,32,2),c=((e,t,r,a=-1)=>e?e.map((e=>o(e,t,r,a))):[])(s,-1,17,-1),u=o(c.length,0,20);if(d!==n)h=o(h,d,4*d),u=o(u,0,10*d);else if(h!==i||u!==l.length){var g=Math.ceil(h/4),p=Math.ceil(u/10),v=Math.max(g,p);d=o(d,v,h),u=o(u,0,10*d)}return{rooms:d,adults:h,children:c=c.slice(0,u)}}},decode:n,isIntegerInRange:l,setHotelsPageGuests:h})},[e=>(r=e.getStore,a=e.actions)]]},["45ddp0"]]);
