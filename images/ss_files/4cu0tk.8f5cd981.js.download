(this.$WP=this.$WP||[]).push(["4cu0tk",(e,r)=>{"use strict";var t,n,i,o,a,u,s,l,d,c,v,f,m,y,h,g,b,p,C,E,O=({children:e})=>t("div",{"data-fs-block":"true",children:e}),P=({children:e,prodOrganizationId:r,devOrganizationId:n,isRecordingEnabled:y})=>{var[h,g]=i(!1),b=o(!1),C=!!l().startsWith("hare.tripadvisor"),E=C?n:r,{os:{family:O}}=s(),P=d(),R=((e,r,t,n,i)=>e&&(!t||!1)&&"IOS"!==r&&n&&i)(y,O,C,v(),f(m.PERFORMANCE)),[A,I]=i({});a((()=>()=>{b.current&&(c.shutdown(),b.current=!1)}),[]),a((()=>{R&&!h&&((e=>{c.init({orgId:e})})(E),c.restart(),g(!0),b.current=!0)}),[R,E,h]),a((()=>{R&&h&&b.current&&((e,r)=>{e?c.identify(e,r):c.identify(!1,r)})(P,{...A})}),[R,h,P,A]);var S=u((()=>({setCustomAttributes:e=>{R&&I((r=>({...r,...e})))},logEvent:(e,r)=>{R&&h&&c.event(e,r)}})),[I,R,h]);return t(p.Provider,{value:S,children:e})},R={__key:5069173693283,id:"049c424c1b637bd9e77db7cb52d7994b",loc:{},definitions:[]},A=e=>{var[{fetching:r,data:t,error:n}]=g({query:R,variables:{limit:100},pause:e});return{fetching:r,queryResult:t,error:!!n}},I=(e,r)=>{e?c.identify(e,r):c.identify(!1)},S=({enabledBootstrap:e,children:r})=>{var[n,l]=i(!1),g=o(!1),{orgId:b,allowRecording:p}=y(),{os:{family:O}}=s(),P=d(),R=h(),[A,S]=i({}),w=v(),F=f(m.PERFORMANCE),q=((e,r,t,n,i,o)=>e&&"IOS"!==t&&i&&o&&(n||"ALLOWED"===r))(p,e,O,A[R]||!1,w,F),[T,x]=i({});a((()=>()=>{g.current&&(c.consent(!1),c.shutdown(),g.current=!1)}),[]),a((()=>{q?(n||((e=>{c.init({orgId:e})})(b),l(!0)),c.restart(),c.consent(!0),g.current=!0):g.current&&(c.consent(!1),g.current=!1)}),[q,b,n]);var B=!(q&&n&&P),{fetching:M,queryResult:N,error:k}=E(B);a((()=>{if(q&&n&&g.current)if(P&&!k){if(!M){var e=(e=>{var r=0,t=!1,n=!1,i="",o=0,a=0,u=new Set;((null==e?void 0:e.allOwnerStatuses)||[]).forEach((e=>{var s=null==e?void 0:e.location;if(s)if(r++,"ACCOMMODATION"===s.placeType){var l,d,c;t=!0;var v=null==(l=s.detail)||null==(d=l.hotel)||null==(c=d.details)?void 0:c.numRooms,f=s.accommodationType;null!=v&&v>=0&&(o++,a+=v),f&&(u.add(f),i=f)}else"EATERY"===s.placeType&&(n=!0)}));var s=o>0?Number((a/o).toFixed(2)):0;return{isHotelOwner:t,isRestaurantOwner:n,accommodationType:u.size>1?"multiple":i,averageRoomCount:s,verifiedOwnedPropertyCount:r,isUserInSampleGroup:!1}})(N);I(P,{...e})}}else I(P)}),[q,n,M,N,k,P]),a((()=>{q&&n&&g.current&&(P?I(P,{...T}):I(P))}),[q,n,P,T]);var z=u((()=>({overrideToEnabledForPage:e=>{S((r=>({...r,[e]:!0})))},setCustomAttributes:e=>{q&&x((r=>({...r,...e})))}})),[x,S,q]);return t(C.Provider,{value:z,children:t("div",{"data-fs-consent-required":"true",children:r})})};return[()=>{b=O,e({BaseFullStoryContext:p=n({setCustomAttributes:()=>{},logEvent:()=>{}}),BaseFullStoryProvider:P,FullStoryContext:C=n({overrideToEnabledForPage:()=>{},setCustomAttributes:()=>{}}),FullStoryProvider:S,SensitiveInformationBlocker:b,useOwnerPropertyData:E=A})},[e=>t=e.jsx,e=>(n=e.createContext,i=e.useState,o=e.useRef,a=e.useEffect,u=e.useMemo),e=>s=e.useUserAgent,e=>l=e.useDomainName,e=>d=e.useUserId,e=>c=e,e=>v=e.default,e=>(f=e.useConsent,m=e.CategoriesEnum),e=>y=e.useFullstoryConfiguration,e=>h=e.useB2bBasePage,e=>g=e.useQuery]]},["121h32","1o4yt4","1nnprh","qlcuu5","52far5","1xsye1","11qln0","1973cc","1rxtv7","1nzeam","1mqwhq"]]);
