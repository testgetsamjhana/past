(this.$WP=this.$WP||[]).push(["g5mqn8",(e,a)=>{"use strict";var r,i,l,n,s,t,o,c,d,p,_,f,m,u,h,g,v,b,k,O,I,T,N,y,C,L,R,w,x,P,S,E,A,M,z,U,F,$,D,B,W,j,Q=({context:e,impressionId:a,payload:r,offerlessCommerceTrackUrl:i,baLinkUid:l,children:n})=>m(p,{clickType:"specialOffer",impressionId:a,context:e,payload:r,offerlessCommerceTrackUrl:i,baLinkUid:l,children:e=>n(e)}),q=e=>{var a={};return e.forEach((e=>{var{contactLinkType:r}=e;r in a||(a[r]=e)})),a},K={container:"mydrN",center_text:"xQKQn",left_text:"mNmQt",sticky_commerce:"lPMgT",solidUnderline:"YRIxQ",ui_link:"TeOIs",level_5:"rUOnQ",level_4:"Isjqe",level_3:"gWsOr",level_2:"izRjg",level_1:"PgaKt",special_offer_red_border_wrapper:"xQram c Pa PP Pn PC _S",special_offer_ds_red_border_wrapper:"hzsTb c Pa PP Pn PC _S",offer:"qZLBT _S",link:"KRAVz",active_link:"kEPNi",lead_in:"cgCpq",specialIcon:"ACCYJ d",ds_red:"wvrCK",red:"jpMGI",black:"MvPXk"},Y=e=>"DS_RED"===e?K.ds_red:"RED"===e?K.red:K.black,G=e=>{var{localize:a}=o();return m(F,{...e,localize:a})},H="lmtpd",V="TKrhR F0 _m",J=({coupon:e,showDescription:a,fetching:r})=>{var{page:l,path:n}=v(),s=b(),[t,c]=i(!1),p=N(),{localize:_}=o(),f=g()||-1;if(r)return u(h,{children:[u("div",{className:H,children:[m(k,{variant:"accent",children:_("b2bh_so_special_offer")}),m("img",{className:V,src:`${s}/img2/brand_refresh/Tripadvisor_logoset_solid_green.svg`,alt:""})]}),m(T,{height:"20px",width:"100%",marginTop:"5px"}),a&&m(T,{height:"40px",width:"100%",marginTop:"15px"})]});var y="CREATE_YOUR_OWN"===e.specialOfferType?e.rawHeading:e.headingForTeaser,C=a?e.restrictions:null;return u(h,{children:[u("div",{className:H,children:[m(k,{variant:"accent",children:_("b2bh_so_special_offer")}),m("img",{className:V,src:`${s}/img2/brand_refresh/Tripadvisor_logoset_solid_green.svg`,alt:""})]}),m(O,{onClick:()=>{c(!0),p({itemName:"so_b2c_click_commerce_card",actionType:"click",team:"Restaurants",locationId:f,page:l,customData:JSON.stringify({url:n,specialOfferId:e.specialOfferId})})},leftAlign:!0,children:y}),C&&m("div",{className:"PbmPP",children:m(I,{variant:"body-01",color:"primaryText",children:C})}),t?m(d,{onClose:()=>{c(!1)},specialOfferId:e&&e.specialOfferId,lightboxType:"restaurant"}):""]})},Z=e=>{var a=e.page.detailId,{sponsoredListingLocationIdAttribution:r,page:i}=e.route;return{locationId:a,isRestaurant:"Restaurant_Review"===i,trafficSource:r===a?"sp":"ba",isMobile:"MOBILE"===e.meta.device.viewportCategory,servletName:e.meta.initialServletName||""}},X={offer:"gZwVG H3 f u",common:"OeQeO",about:"dMmpW",aboutHighlighted:"IQlFY",location:"FUyxx",overview:"TeYcL Pc PN Pp PA",overview_light:"ajctW Pc PN Pp PA",overviewOffer:"uRxOx",webLinkText:"FfTzs",mediaViewer:"sEARN",webLink:"AdeBt _S",atfInfo:"ERCyA",hrMeta:"QGKZt",nonWebLink:"oAPmj _S",nonWebLinkText:"KledE",outboundIcon:"QNPJe",offerIcon:"dviEW H3",messenger:"IclGN",partnerLogoImages:"f j u",centerContent:"c",logo_img:"nnFPB",mobile_logo_img:"JUvns",ui_link_container:"YUQUy",level_5:"FTejJ",level_4:"PTrfg",level_3:"Kbmhx",level_2:"rLVaA",level_1:"kYotk",ui_link:"fHvkI"},ee="jzAVp",ae="tQDKm",re=e=>{var{localize:a}=o();return m($,{...e,localize:a})},ie=({locationId:e,otaLink:a,linkLevel:r,icon:l})=>{var n,d=null==a?void 0:a.linkUrl,p=P(d),{localize:h}=o(),g=w(),v="MOBILE"===A(),b=(e,a)=>{g({module:"ba_for_otas_test",action:e,context:a})},[k,I]=i(!1),T=x((()=>{b("test_impression",e.toString())})),N=_("URL_PARTNER_VISIT",h);function y(){return()=>{b("b4o_link_return",p||d),I(!1)}}function C(){return()=>{b("b4o_link_redirect",p||d),I(!0)}}return m("div",{className:c(X.offer,X.atfInfo),ref:T,children:u("div",{className:c(X.webLink,`${X.ui_link_container} ${X[r]}`),children:[m(s,{name:l,className:X.offerIcon,onClick:C()}),m("span",{className:c(X.webLinkText,`${X.ui_link} ${X[r]}`),onClick:C(),children:N}),k&&m(S,{mobileContainerStyle:"inset",onClose:y(),children:u("div",{children:[m("div",{className:c(X.centerContent),dangerouslySetInnerHTML:{__html:h.string("meta_interstitial_connecting")}}),u("div",{className:c(X.partnerLogoImages),children:[m("img",{alt:"tripadvisor.com",className:c(v?X.mobile_logo_img:X.logo_img),src:"img2/brand_refresh/Tripadvisor_lockup_horizontal_registered.svg"}),m(M,{color:"taBrand"}),m("img",{className:c(v?X.mobile_logo_img:X.logo_img),src:"img2/branding/hotels/Agoda.png",alt:"Agoda.com"})]}),m("div",{className:c(X.centerContent),children:m(O,{onClick:y(),children:m(t,{id:"flights_app_return_to_tripadvisor"})})}),m(E,{interval:3e3,trigger:(n=p,()=>{b("b4o_link_click",p||d),n?window.open(n,"_blank"):d&&window.open(d,"_blank"),I(!1)})})]})}),m("span",{className:X.outboundIcon,children:m(f,{})})]})})},le={__key:0xe59bbbba6f8e,id:"e59bbbba6f8ecfd0b3a833d55c1f85dd",loc:{},definitions:[]},ne=()=>{var e=U({experimentKeys:["ba_for_otas_agoda__1667230815"]});return!(!e||null==e||!e.ba_for_otas_agoda__1667230815)&&"control"!==(null==e?void 0:e.ba_for_otas_agoda__1667230815)},se=(e,a,r,i,l)=>{var n,s=ne(),t={locationId:e,commerceCountryId:a,deviceType:r,trafficSource:"ba",servletName:i,hotelTravelInfo:l},[{data:o}]=z({query:le,variables:t,pause:!s});return{otaData:null==o||null==(n=o.BaAggregation_productDataBulkForOtaTest)?void 0:n[0]}};return[()=>{Q.defaultProps={context:void 0},D=Q,(F=class extends r{constructor(...e){super(...e),this.state={baLinkUid:n(),showSpecialOffer:!1},this.renderSpecialOfferOverlay=()=>{this.setState({showSpecialOffer:!0})},this.renderSpecialOfferLightbox=e=>this.state.showSpecialOffer?m(d,{onClose:()=>{this.setState({showSpecialOffer:!1})},specialOfferId:e&&(e.id||e.specialOfferId),lightboxType:"hotel"}):"",this.renderInnerContent=(e,a,r,i,l,n)=>{var{iconAndLeadInTextColor:t,icon:o,linkLevel:d,onClick:p,linkSolidUnderline:_,textAlignment:f="LEFT"}=this.props,h=((e,a,r,i)=>{var l=()=>{a(),i(),r&&r()};return e?{wrapperClickMethod:l,innerOfferClickMethod:null}:{wrapperClickMethod:null,innerOfferClickMethod:l}})(l,e,p,this.renderSpecialOfferOverlay);return m("div",{className:c({[K.special_offer_red_border_wrapper]:"RED_BORDER"===i,[K.special_offer_ds_red_border_wrapper]:"DS_RED_BORDER"===i}),onClick:h.wrapperClickMethod,children:u("div",{className:c(K.container,{[K.center_text]:"CENTER"===f,[K.left_text]:"LEFT"===f&&!n,[K.sticky_commerce]:n}),children:[!n&&m(s,{name:o,className:c(K.specialIcon,Y(t))}),u("span",{className:c(K.offer,d&&`${K.ui_link} ${K[d]}`,_?K.solidUnderline:""),onClick:h.innerOfferClickMethod,children:[m("span",{className:c("blOfferLead",K.lead_in,Y(t)),"data-blspecialoffer":"lead",children:r}),m("span",{className:n?K.active_link:K.link,"data-blspecialoffer":"link",children:a})]})]})})}}render(){var{locationId:e,coupon:a,leadInText:r,layout:i,linkTextOverride:l,wrapperStyle:n,expandedClickableArea:s,isUpdatedMWStickyCommerceUI:t}=this.props,o=a;if(!o)return null;var c,d=a&&a.offerlessCommerceTrackUrl||a&&a.lightboxClickUrl||"",p=l||o.linkText||o.headingForTeaser;return"string"==typeof r?c=r:(c=((e,a)=>{switch(e){case"CREATE_YOUR_OWN":case"BOTTLE_OF_WINE":case"FREE_PARKING":case"LOYALTY_POINTS":case"PACKAGE":return a.string("SO_recat_headline_specialOfferHeader_e1f");case"ROOM_PERCENT_OFF":case"ROOM_AMOUNT_OFF":return a.string("SO_recat_headline_specialPrice_e1f");case"ROOM_SPECIAL_RATE":case"ROOM_UPGRADE":return a.string("SO_recat_headline_specialRateHeader_e1f");case"FOOD_CREDIT":case"FREE_BREAKFAST":case"FREE_TICKETS":return a.string("SO_recat_specialDealHeader_e1f");default:return""}})(o.specialOfferType,this.props.localize),c+=p?":":""),u(h,{children:[m(D,{impressionId:o.impressionId,payload:{locationId:e,couponId:a&&(a.id||a.specialOfferId),specialOfferType:o.trackingName||o.specialOfferType||"INVALID",layout:i},offerlessCommerceTrackUrl:d,baLinkUid:this.state.baLinkUid,children:e=>this.renderInnerContent(e,p,c,n,s,t)}),this.renderSpecialOfferLightbox(a)]})}}).defaultProps={icon:"special-offer-fill",wrapperStyle:"NONE",expandedClickableArea:!1},B=l((e=>({lineItemsByLoc:e.meta.lineItemsByLoc})))(G),W=J,j=l(Z)(y),($=class extends r{constructor(...e){super(...e),this.state={mapRadio:null},this.openMap=()=>{this.state.mapRadio&&this.state.mapRadio.emit("open-trigger-clicked")},this.renderMapLink=()=>{var{layout:e,disableMap:a}=this.props;return"location"===e||"atfInfo"===e||a?null:m("span",{className:"hwpEh _S",children:this.props.localize("mw_common_seeOnMap_ffffec3e")})}}componentDidMount(){this.setState({mapRadio:R("hr-map")})}render(){var{address:e,userLanguage:a,layout:r,disableMap:i,isDsStyle:l,linkLevel:n}=this.props,t=e&&e.localAddress&&e.localLanguage&&e.localLanguage!==a,o=n?`${X.ui_link_container} ${X[n]}`:"";return u(h,{children:[e.address?u("div",{className:c(X.offer,X[r]),children:[m(s,{name:"map-pin-fill",className:X.offerIcon}),u("span",{onClick:i?()=>{}:this.openMap,className:c({[`${X.nonWebLink} ${o}`]:!i}),children:[l?m(I,{elementType:"span",variant:"body-01",children:e.address}):m("span",{className:!i&&n?`${X.ui_link} ${X[n]}`:"",children:e.address}),this.renderMapLink()]})]}):null,t?u("div",{className:c(X.offer,X[r]),children:[m(s,{name:"refresh",className:X.offerIcon}),m(L,{name:`overlay-localAddress-${X[r]}`,children:e=>m("span",{onClick:e,className:c(X.nonWebLink,o),children:m("span",{className:c(X.nonWebLink,n?`${X.ui_link} ${X[n]}`:""),children:this.props.localize("localnameandaddress_1")})})}),m(C,{name:`overlay-localAddress-${X[r]}`,disableFullscreenOnMobile:!0,children:u("div",{className:"nJnaZ c",children:[m("div",{className:"IWqGZ",children:this.props.localize("localnameandaddress_1")}),m("div",{className:ee,children:`${this.props.localize.string("local-name-and-address_localname")}${this.props.localize.string("common_colon")}`}),m("div",{className:ae,children:e.localName||e.name}),m("div",{className:ee,children:`${this.props.localize.string("local-name-and-address_localaddress")}${this.props.localize.string("common_colon")}`}),m("div",{className:ae,children:e.localAddress})]})})]}):null]})}}).defaultProps={layout:"overview",disableMap:!1,isDsStyle:!1},e({Address:re,BaOtaLink:ie,BaOtaQuery:le,BusinessAdvantageProvider:j,RestaurantSpecialOfferDesktop:W,SpecialOffer:B,remapContacts:q,useBaOtaQueryWrapper:se,useIsBaOtaTestEnabled:ne})},[e=>(r=e.Component,i=e.useState),e=>l=e.connect,e=>n=e.uuid,e=>s=e.Icon,e=>(t=e.default,o=e.useLocalize),e=>c=e.default,e=>d=e.default,e=>(p=e.ClickTracker,_=e.offerTextFromContactType,f=e.OutboundIcon),e=>(m=e.jsx,u=e.jsxs,h=e.Fragment),e=>g=e.useLocationDetail,e=>v=e.useRoute,e=>b=e.useCdnPrefix,e=>k=e.default,e=>O=e.BorderlessButton,e=>I=e.default,e=>T=e.default,e=>N=e.default,e=>y=e.BusinessAdvantageProvider,e=>C=e.Modal,e=>L=e.Opener,e=>R=e.createRadio,e=>w=e.useGARecorder,e=>x=e.useOnVisible,e=>P=e.useObfuscatedUrl,e=>S=e.ModalContainer,e=>E=e.default,e=>A=e.useViewportCategory,e=>M=e.default,e=>z=e.useQuery,e=>U=e.default]]},["1o4yt4","12mj4n","1eww82","1ybxsm","17thqz","fkji80","r9zz7r","1t9pxn","121h32","bvvaww","fgwvq1","1s6q22","oz3g7e","jppfwt","1essqv","u59av4","1r73jw","1l82a9","18m6oj","80hn7v","1bqgab","32pwc7","13btuy","ay1l3c","1i3sz5","18gzfc","1ys6v1","1bqhoe","1mqwhq","gugp1d"]]);
