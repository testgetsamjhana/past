(this.$WP=this.$WP||[]).push(["1t73tm",(l,e)=>{"use strict";var a,u,n,t,i,d,r,s,o,m,b,c,v,f,g,p,h,I,A={__key:0xad5a750b2e31,id:"ad5a750b2e31865a596df679df28daf3",loc:{},definitions:[]},y={__key:0xec9dff6addf,id:"0ec9dff6addf1f5c08fc37d66046db4c",loc:{},definitions:[]},M=()=>{var l=d(),e=v();return"HotelsNear"===l.page&&"en"===e},S=!1,_=!1,T=!1,O=l=>{var e,r,v,M,O,P,L,C,E,x,V,$,q,w,R,{client:k,dataStrategy:N,locationId:H,passThroughOptions:z,renderAlbum:K,referenceMediaId:j,albumId:F,subAlbumId:G,selectImagesServerSide:Q,filter:W}=l,[B,D]=a(!1),J=u(0),[U,X]=a(Q),Y=d(),Z=I(),ll=W||s(),el={locationIds:[H],params:{albumId:F,subAlbumId:G,client:k,locationType:"HOTEL",filter:ll,referenceMediaId:B?null:j},includeGeneratedTags:Z},al={locationId:H,albumId:F,subAlbumId:G,client:k,dataStrategy:N,filter:ll,referenceMediaId:B?null:j},ul=Y.path,nl="",[{fetching:tl,data:il,error:dl},rl]=t({query:y,variables:el,pause:!H||!U||!Z}),[{fetching:sl,data:ol,error:ml},bl]=t({query:A,variables:al,pause:!H||!U||Z});if(Z){var cl,vl,fl,gl,pl,hl,Il,Al,yl=null==il||null==(cl=il.MediaAlbumV2_albums)||null==(vl=cl[0])||null==(fl=vl.album)?void 0:fl.mediaList,Ml=null==il||null==(gl=il.locations)||null==(pl=gl[0])?void 0:pl.geoName,Sl=null==il||null==(hl=il.locations)||null==(Il=hl[0])?void 0:Il.name;if(null!=yl&&yl.length>=1){if("MediaAlbumV2_MediaId"===(null==(Al=yl[0])?void 0:Al.__typename)){var _l,Tl=null==(_l=yl[0])?void 0:_l.data;if("Media_PhotoResult"===(null==Tl?void 0:Tl.__typename)){var Ol,Pl,Ll,Cl=null==(Ol=Tl.generatedTags)||null==(Pl=Ol.captionsMediaList)||null==(Ll=Pl[0])?void 0:Ll.caption;nl=""===Cl||void 0===Cl?`${Sl} in ${Ml}`:`${Sl} in ${Ml}, image may contain: ${Cl}`}}}else nl="";$=function(l){for(var e,a,u,n,t,i,d,r,s,o,m,b,c,v,f,g,p,I,A=[],y=null==l||null==(e=l.MediaAlbumV2_albums)||null==(a=e[0])?void 0:a.album,M=null!=(u=null==y||null==(n=y.mediaList)?void 0:n.length)?u:0,S=0;S<M;S++){var _,T,O=null==y||null==(_=y.mediaList)||null==(T=_[S])?void 0:T.data;if(null!=O){var P={type:h.get(O.mediaType),mediaId:O.id,photoSizes:O.sizes};A.push(P)}}return{mediaAlbum:{status:null!=(t=null==l||null==(i=l.MediaAlbumV2_albums)||null==(d=i[0])?void 0:d.status)?t:null,statusMessage:null!=(r=null==l||null==(s=l.MediaAlbumV2_albums)||null==(o=s[0])?void 0:o.statusMessage)?r:null,album:{albumId:null!=(m=null==y?void 0:y.albumId)?m:null,subAlbumId:null!=(b=null==y?void 0:y.subAlbumId)?b:null,translationKey:null!=(c=null==y||null==(v=y.name)||null==(f=v.valueKey)?void 0:f.key)?c:null,dataStrategy:null!=(g=null==y?void 0:y.dataStrategy)?g:null,offset:null!=(p=null==y?void 0:y.offset)?p:null,totalMediaCount:null!=(I=null==y?void 0:y.totalMediaCount)?I:null,mediaList:A}}}}(il),R=rl,q=tl,w=dl}else $=ol,R=bl,q=sl,w=ml;var El,xl=null==(e=$)||null==(r=e.mediaAlbum)?void 0:r.status,Vl=!(null!=(v=$)&&null!=(M=v.mediaAlbum)&&null!=(O=M.album)&&O.mediaList)||500===xl,$l=404===xl;if(n((()=>{X(!0)}),[]),n((()=>{!q&&$l&&!B&&U&&D(!0)}),[q,$l,B,U]),n((()=>{!q&&Vl&&U&&(J.current<1?(J.current++,R()):_||(_=!0))}),[q,Vl,R,H,k,ul,U]),n((()=>{var l,e;!q&&w&&(S||(S=!0,null==(l=w)||l.message),200!==xl||T||(T=!0,null==(e=w)||e.message))}),[q,xl,w]),!q&&(Vl||404===xl))return f(g,{children:(El=H,K({root:null,response:null,album:{totalMediaCount:0},loading:!1,client:k,locationId:El,passThroughOptions:z}))});var ql=null==(P=$)||null==(L=P.mediaAlbum)||null==(C=L.album)?void 0:C.offset,wl=j?ql:null==z?void 0:z.selectedIndex,Rl={root:$,response:null==(E=$)?void 0:E.mediaAlbum,album:q?null:null==(x=$)||null==(V=x.mediaAlbum)?void 0:V.album,...Z&&{imageAltText:nl},locationId:H,client:k,loading:q,passThroughOptions:{...z,selectedIndex:wl}},kl=o(k),Nl=m(N),Hl=((l,e)=>{var a,u,n,t=null==l||null==(a=l.mediaAlbum)?void 0:a.album;return(null==t||null==(u=t.mediaList)?void 0:u[0])?c.PrimaryOK:e?e.networkError?c.NetworkError:c.GraphQLError:200!==(null==l||null==(n=l.mediaAlbum)?void 0:n.status)?c.ServiceError:null==t?c.AlbumMissing:0===t.totalMediaCount?c.NoPhotos:c.PrimaryMissing})($,w);return p(i,{errorRenderer:()=>p(g,{children:[f(b,{client:kl,approach:Nl,status:c.RenderError}),f(b,{enabled:!q&&U,client:kl,approach:Nl,status:Hl,decrement:!0})]}),children:[K(Rl),f(b,{enabled:!q&&U,client:kl,approach:Nl,status:Hl})]})},P=({locationId:l,client:e,dataStrategy:a,renderAlbum:u,selectImagesServerSide:n,filter:t,albumId:i,subAlbumId:d,passThroughOptions:s,referenceMediaId:o})=>{var m=r();return f(O,{locationId:l,albumId:i,subAlbumId:d,client:e||m,dataStrategy:a,renderAlbum:u,selectImagesServerSide:n,filter:t,referenceMediaId:o,passThroughOptions:s})};return[()=>{(h=new Map).set("PHOTO","p"),h.set("PHOTO_360","p360"),h.set("VIDEO","v"),I=M,l("VanillaClientSideMediaAlbumContainer",P)},[l=>(a=l.useState,u=l.useRef,n=l.useEffect),l=>t=l.useQuery,l=>i=l.ErrorBoundary,l=>d=l.useRoute,l=>(r=l.useClientName,s=l.getMediaFilterToRetrieveAllPhotos),l=>(o=l.getClient,m=l.getApproach,b=l.PrimaryPhotoStatusCounter,c=l.Status),l=>v=l.useLanguage,l=>(f=l.jsx,g=l.Fragment,p=l.jsxs)]]},["1o4yt4","1mqwhq","183pm0","fgwvq1","13w1vr","tsg6fc","17thqz","121h32"]]);
