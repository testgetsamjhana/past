(this.$WP=this.$WP||[]).push(["49c7br",(e,t)=>{"use strict";var r,n,o,a,i,s,l,c,u,p,d,h,m,f,v,g,C,k,b,P,M,I,x,L,y,R,E,O,S,w,z,Z,W,A,U,$,V,B="ta-maps-google",H=(e,t=[],r={loading:!1})=>{var o=n.useRef(e);n.useEffect((()=>{o.current=e}),[e]);var a=n.useRef(!1);n.useEffect((()=>(a.current=!0,()=>{a.current=!1})),[]);var[i,s]=n.useState(r);return[i,n.useCallback(((...e)=>{s({loading:!0}),o.current(...e).then((e=>(a.current&&s({value:e,loading:!1}),e)),(e=>(a.current&&s({error:e,loading:!1}),e)))}),t)]},N=()=>P(n.useCallback((e=>(async e=>{if("mock"===e.forceMapProvider)return{mapProvider:"mock",mapConfig:{lang:"en",channel:"ta.maps.mock"}};var t=await fetch(`/data/1.0/maps/provider?${(e=>{var t=new URLSearchParams;return Object.entries(e).forEach((([e,r])=>{null!=r&&t.set(e,r.toString())})),t})({servletName:e.servletName,locale:e.locale,geoId:e.geoId,forceMapProvider:e.forceMapProvider}).toString()}`,{credentials:"same-origin"});return t.json()})(e)),[])),D=()=>P(n.useCallback((e=>{var t=I[e];return t?t():Promise.reject(Error(`Unknown map provider ${e}`))}),[]),[]),T=e=>{var t=n.useRef(0),r=n.useCallback(((r,n,o)=>{var a=new n;if(a.isLibraryLoaded())return new Promise((e=>{e({loaded:!0,wasPreviouslyLoaded:!0})}));var i=++t.current;return new Promise((n=>{a.loadLibrary(o,(()=>{if(null==e||e({mapProvider:r}),i!==t.current)throw new Error("Stale map provider request");n({loaded:!0,wasPreviouslyLoaded:!1})}))}))}),[e]),o=P(r);return o[0].loading?[o[0],()=>{}]:o},j=(e,t,r,o)=>{var[a,s]=n.useState(null),[{value:l},u]=M(),[{value:p},d]=x(),[{loading:h,value:m},f]=L(o),v=((e,t,r)=>{var o=c();return n.useRef({servletName:r,locale:o,geoId:t,forceMapProvider:e}).current})(e,t,r),g=m&&m.loaded,C=l&&l.mapProvider,k=l&&l.mapConfig,b=p&&p.MapFactory;i((()=>{u(v)}),[v,u]),i((()=>{C&&d(C)}),[C,d]);var P=h||g;return i((()=>{!P&&C&&k&&b&&f(C,b,{lang:v.locale,channel:"ta.maps",...k})}),[P,v,b,k,C,f]),i((()=>{g&&C&&p&&!a&&s({MapInterfaceClass:p.MapInterface,mapProviderName:C})}),[C,p,a,g]),a},G=({children:e,onVisible:t})=>{var r=s(t);return d(m,{children:e(r)})},q=({forceMapProvider:e,mapInterfaceProps:t,containerRef:r,geoId:o,servlet:a,onMapInterfaceLoaded:s,onMapLibraryLoad:l})=>{var d=u(),h=c(),{userAgentCategory:m}=p(),f=n.useRef(s),v=n.useRef(r),g=n.useRef({...t,isRtl:d,locale:h,userAgentCategory:m});f.current=s,v.current=r,g.current={...t,isRtl:d,locale:h,userAgentCategory:m};var C=y(e,o,a,l),k=C?C.MapInterfaceClass:null,b=C?C.mapProviderName:null;return i((()=>{if(k&&b){var e=new k(v.current,g.current);f.current(e,b)}}),[k,b]),null},_=e=>d(C,{...e}),F=e=>d(O,{children:({map:t})=>d(k,{...e,map:t})}),Y=(e,t=0)=>{var r=n.useRef(null),o=n.useRef(e),a=n.useCallback((()=>{r.current&&clearTimeout(r.current),r.current=setTimeout((()=>{o.current()}),t)}),[t]),i=n.useCallback((()=>{r.current&&(clearTimeout(r.current),r.current=null)}),[]);return n.useEffect((()=>{o.current=e}),[e]),[a,i]},Q=e=>h($,{position:e.position,zIndexOffset:e.zIndexOffset,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,onClick:e.onClick,trackingContext:e.trackingContext,draggable:e.draggable,onDrag:e.onDrag,alignment:"bottom-right",children:[d(g,{style:{cursor:"pointer",width:`${e.width}px`,height:`${e.height}px`,position:"absolute",left:`-${e.anchor.x}px`,top:`-${e.anchor.y}px`,opacity:e.alpha,transition:e.animated?"width 0.3s, height 0.3s, left 0.3s, top 0.3s":void 0},src:e.src}),e.children]}),K={markerCalloutContainer:"OOIbi d _Q X",topleft:"fVHof",top:"llLSR",topright:"HMnYr",left:"PinZf",right:"qpEEA",bottomleft:"bEDgT",bottom:"HYAbT",bottomright:"xEjWV",noInteraction:"S"},X=()=>{},J=e=>{if(!e.visible)return null;var t=t=>d(O,{children:({map:r})=>r&&d(b,{direction:e.direction,offset:e.offset,position:t,autoPan:e.autoPan,map:r,zIndexOffset:e.zIndexOffset,disableInteraction:e.disableInteraction,isRtl:e.isRtl,children:e.children})});return e.position?t(e.position):d(A,{children:e=>t(e.position)})};return[()=>{P=H,M=N,I={[B]:()=>t("12n2af"),"ta-maps-autonavi":()=>t("129b3c"),mock:()=>t("ytnbpu")},x=D,L=T,y=j,E=(R=o({map:null,mapProvider:""})).Provider,O=R.Consumer,S=o({trackClick:null,trackHover:null}),e("MapComponentExport$1",C=class extends n.PureComponent{constructor(...e){super(...e),this.state={mapInterface:null,mapProvider:null,hasBeenVisible:!1},this.onMapInterfaceLoaded=(e,t)=>{null===this.state.mapInterface&&(e.once("renderComplete",(()=>{this.props.onLoad&&this.componentMounted&&e&&this.props.onLoad({map:e})})),e.on("click",(e=>{this.props.onClick&&this.props.onClick(e)})),e.on("centerChange",(e=>{this.props.onCenterChange&&this.componentMounted&&this.props.onCenterChange(e)})),e.on("panStart",(e=>{this.props.onPanStart&&this.props.onPanStart(e)})),e.on("renderComplete",(e=>{this.props.onRenderComplete&&this.props.onRenderComplete(e)})),e.on("zoomChange",(e=>{this.props.onZoomChange&&this.props.onZoomChange(e)})),this.props.initialBounds&&e.setBounds(this.props.initialBounds),this.setState({mapInterface:e,mapProvider:t}))},this.setContainerRef=e=>{this.containerRef||(this.containerRef=e,this.forceUpdate())},this.handleResize=()=>{this.state.mapInterface&&this.state.mapInterface.resize()},this.onVisible=()=>{this.setState({hasBeenVisible:!0})},this.componentMounted=!1,this.containerRef=null}componentDidMount(){var e,t,r,n;this.componentMounted=!0,null==(e=(t=this.props).onMount)||e.call(t,{containerOffsetWidth:null!=(r=null==(n=this.containerRef)?void 0:n.offsetWidth)?r:0})}componentWillUnmount(){var e,t;this.componentMounted=!1;var r=this.state.mapInterface;r&&r.unmount(),null==(e=(t=this.props).onUnmount)||e.call(t)}render(){var e,t,{mapInterface:r,mapProvider:n,hasBeenVisible:o}=this.state,{children:a}=this.props;return h("div",{className:"UaGoi w _Z",style:{touchAction:this.props.disableGestures?"auto":"none"},children:[d(l,{callback:this.handleResize}),(!this.props.lazy||o)&&!!this.containerRef&&d(q,{mapInterfaceProps:{zoom:this.props.initialZoom,center:this.props.initialCenter,minZoom:this.props.minZoom,maxZoom:this.props.maxZoom,scrollWheelZoom:this.props.scrollWheelZoom,disableGestures:this.props.disableGestures,styles:this.props.styles,mapId:this.props.mapId},containerRef:this.containerRef,onMapLibraryLoad:this.props.onMapLibraryLoad,onMapInterfaceLoaded:this.onMapInterfaceLoaded,forceMapProvider:this.props.forceMapProvider,servlet:this.props.servlet,geoId:this.props.geoId}),d(G,{onVisible:this.onVisible,children:e=>d("div",{className:"map_container tWxsB w _Z Z0 o",ref:t=>{e.current=t,this.setContainerRef(t)}})}),d(E,{value:{map:r,mapProvider:n||""},children:d(S.Provider,{value:{trackClick:null!=(e=this.props.trackMarkerClick)?e:null,trackHover:null!=(t=this.props.trackMarkerHover)?t:null},children:a})})]})}}),C.defaultProps={initialCenter:new r(0,0),initialZoom:13,initialBounds:null,minZoom:2,maxZoom:19,scrollWheelZoom:!0,disableGestures:!1,lazy:!0,children:[],onLoad:null,onClick:null,onPanStart:null,onCenterChange:null,onZoomChange:null,onRenderComplete:null,onMount:null,onUnmount:null,onMapLibraryLoad:null,trackMarkerClick:null,trackMarkerHover:null},w=_,k=class extends n.PureComponent{constructor(...e){super(...e),this.state={circleOverlay:null}}componentDidMount(){this.handleProps(this.props)}componentDidUpdate(){this.handleProps(this.props)}componentWillUnmount(){var{map:e}=this.props,{circleOverlay:t}=this.state;e&&t&&(e.removeCircleOverlay(t),this.setState({circleOverlay:null}))}handleProps(e){var{circleOverlay:t}=this.state,{map:r}=e;r&&(t||(t=r.addCircleOverlay(this.props),this.setState({circleOverlay:t})),t.setPosition(e.position),t.setRadius(e.radius),t.setFillColor(e.fillColor),t.setStrokeColor(e.strokeColor),t.setStrokeWidth(e.strokeWidth),t.setOpacity(e.opacity))}render(){return null}},z=F,W=(Z=o({position:null})).Provider,A=Z.Consumer,U=Y,$=n.forwardRef((function({zIndexOffset:e=0,position:t,children:r,onClick:o,onMouseEnter:a,onMouseLeave:i,disableTracking:s=!1,trackingContext:l,className:c,draggable:u=!1,onDrag:p,alignment:h},m){var{map:g}=n.useContext(R),{trackClick:C,trackHover:k}=n.useContext(S),[b,P]=n.useState(null),[M,I]=n.useState(!1);n.useEffect((()=>{if(!g)return()=>{};var e=g.createMarkerContainer();return P(e),e.getContainer()?I(!0):e.setMarkerReadyCallback((()=>{I(!0)})),()=>{g.removeMarkerContainer(e)}}),[g]),n.useEffect((()=>{b&&b.setZIndexOffset(e)}),[b,e]),n.useEffect((()=>{b&&!t.equals(b.getPosition())&&b.setPosition(t)}),[b,t]),n.useEffect((()=>{b&&b.setDraggable(u)}),[b,u]),n.useEffect((()=>{b&&b.setDragCallback(p)}),[b,p]);var x=n.useCallback((e=>{e.stopPropagation(),s||null==C||C({context:null!=l?l:null}),o&&o()}),[s,l,o,C]),L=n.useCallback((()=>{s||null==k||k({context:null!=l?l:null}),a&&a()}),[s,l,a,k]),[y,E]=U(L,300),O=n.useCallback((()=>{E(),i&&i()}),[i,E]),w=b&&b.getContainer();if(M&&w){var z=d("div",{className:v(c,{_S:!!o,"fRhYH d":"top-center"===h,"KFMQG d":"center"===h}),onClick:x,onTouchEnd:x,onMouseEnter:y,onMouseLeave:O,ref:m,children:r});return d(W,{value:{position:t},children:f(z,w)})}return null})),Q.defaultProps={zIndexOffset:0,draggable:!1,animated:!1,children:null,onMouseEnter:null,onMouseLeave:null,onClick:null,alpha:1,trackingContext:null},V=a(Q),b=class extends n.PureComponent{constructor(...e){super(...e),this.hasAutoPanned=!1,this.checkAutoPan=e=>{if(e&&this.props.autoPan&&!this.hasAutoPanned){this.hasAutoPanned=!0;var t=e.offsetWidth,r=e.offsetHeight;this.props.map.panIntoView(this.props.position,((e,t,r,n)=>{var o={left:t/2,right:t/2,top:r/2,bottom:r/2};return e.includes("left")&&(n?(o.left=0,o.right=t):(o.left=t,o.right=0)),e.includes("right")&&(n?(o.left=t,o.right=0):(o.left=0,o.right=t)),e.includes("top")&&(o.top=r,o.bottom=0),e.includes("bottom")&&(o.top=0,o.bottom=r),o})(this.props.direction,t,r,this.props.isRtl))}}}render(){var{direction:e,position:t,zIndexOffset:r,offset:n,children:o,disableInteraction:a,isRtl:i}=this.props,s=K[e],l={marginTop:n.y};return l[i?"marginRight":"marginLeft"]=n.x,d($,{position:t,zIndexOffset:r,disableTracking:!0,alignment:"bottom-right",children:d("div",{ref:this.checkAutoPan,className:`${K.markerCalloutContainer} ${a?K.noInteraction:""} ${s}`,style:l,onClick:X,onMouseEnter:X,onMouseLeave:X,children:o})})}},J.defaultProps={position:null,autoPan:!0,visible:!0,offset:{x:0,y:0},zIndexOffset:99999999,disableInteraction:!1,isRtl:!1},e({CircleOverlay:z,IconMarker:V,MapComponent:w,MapContext:R,MapContextConsumer:O,MapContextProvider:E,MapProviderGoogle:B,Marker:$,Popup:J})},[t=>{r=t.LatLng,e({LatLng:t.LatLng,LatLngBounds:t.LatLngBounds,Util:t.Util})},t=>e("MapInterface",t.MapInterface),e=>(n=e,o=e.createContext,a=e.memo),e=>i=e.useClientSideLayoutEffect,e=>s=e.useOnVisible,e=>l=e.default,e=>(c=e.useLanguage,u=e.useRtl),e=>p=e.useUserAgent,e=>(d=e.jsx,h=e.jsxs,m=e.Fragment),e=>f=e.createPortal,e=>v=e.default,e=>g=e.CdnImage]]},["1jgmez","acx4g3","1o4yt4","1mb2nz","13btuy","1w1vb4","17thqz","1nnprh","121h32","1nnmev","fkji80","1s6q22"]]);
