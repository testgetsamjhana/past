(this.$WP=this.$WP||[]).push(["1bttvi",(e,i)=>{"use strict";var l,a,r,n,t,o,d,s,c,m,u,p,h,v,f,g,b,_,y,N,T,D,C,P,O,w,k="jgblw P0",S="wddvS P0 _T",U=({days:e,isMobile:i})=>{var{localize:l}=p(),a=e&&0!==e.length&&7!==e.length?e.map((e=>((e,i)=>{switch(e){case"MONDAY":return i("monday_52");case"TUESDAY":return i("tuesday_52");case"WEDNESDAY":return i("wednesday_52");case"THURSDAY":return i("thursday_52");case"FRIDAY":return i("friday_52");case"SATURDAY":return i("saturday_52");case"SUNDAY":return i("sunday_52");default:return""}})(e,l))).filter((e=>""!==e)).join(", "):l("blcoupons_valid_every_day");return T(c,{variant:i?"body-01":"supporting-01",marginTop:"spacing-01",children:l("blcoupons_valid_on_given_days",{translatedDays:a})})},I=(e,i)=>i?e.formatDate("date_medium",h(i)||new Date):"",L=({label:e,url:i,mode:l,showUrlPreview:a,onClick:r})=>{var{localize:n}=p(),o=e||n("b2bh_so_lightbox_redeem_online");return l&&"NORMAL"!==l?T("div","PREVIEW"===l?{"data-tooltip":i,className:"sMPWh P0 _T",children:T(t,{children:o})}:{"data-tooltip":i,className:a?"mOTFC P0 _T":S,children:T(t,{children:o})}):T("a",{className:S,href:i,target:"_blank",onClick:r,children:T(t,{children:o})})},M=({phoneNumber:e,hasRedemptionUrl:i,isMobile:l,onClick:a=(()=>{})})=>{var{localize:r}=p();if(i)return y("div",{className:"EENXG f u P0",children:[T(v,{}),T(c,{variant:"body-01",children:e})]});var n=y("div",{className:"DzzCe f u P0 e",children:[y(t,{children:[T(v,{}),e]}),T(c,{variant:"supporting-01",marginTop:"spacing-01",children:r("b2bh_so_lightbox_call_to_redeem")})]});return l?T("a",{href:`tel:${e}`,onClick:a,children:n}):n},j=({specialOfferValue:e,mode:i,showUrlPreview:l,redeemLabel:a})=>{var r="MOBILE"===m(),n=u(),{localize:t}=p(),{page:o,path:d,params:s}=g(),h=f(),v=b(),D="detailId"in s&&s.detailId||-1,{sojernGTMCallback:C}=_("special_offer_redemption",D),P=null!=e&&e.redemptionPhoneNumber?()=>{h({actionType:"click",team:"B2B",geoId:"geoId"in s&&s.geoId||null,locationId:D,page:o,itemName:"so_b2c_click_hotels_phone_number_redeem_button",customData:JSON.stringify({hotelsTravelInfo:v,url:d,redemptionUrl:null==e?void 0:e.redemptionUrl,specialOfferId:null==e?void 0:e.id,specialOfferType:null==e?void 0:e.specialOfferType})}),C()}:()=>{};return y(N,{children:[T(c,{variant:r?"title-04":"title-02",marginTop:"spacing-04",children:null==e?void 0:e.title}),T(c,{variant:r?"supporting-01":"body-01",marginTop:"spacing-03",children:null==e?void 0:e.description}),(null==e?void 0:e.code)&&T(c,{variant:"title-04",marginTop:"spacing-03",children:t.string("b2b_special_offers_code_and_value",{code_value:e.code})}),((null==e?void 0:e.startDate)||(null==e?void 0:e.endDate))&&y(N,{children:[T(c,{variant:"title-04",marginTop:"spacing-03",children:`${I(n,null==e?void 0:e.startDate)||""} - ${I(n,null==e?void 0:e.endDate)||""}`}),T(U,{days:null==e?void 0:e.validDays,isMobile:r})]}),(null==e?void 0:e.redemptionUrl)&&T(L,{label:a,url:e.redemptionUrl,mode:i,showUrlPreview:l,onClick:()=>{h({actionType:"click",team:"B2B",geoId:"geoId"in s&&s.geoId||null,locationId:D,page:o,itemName:"so_b2c_click_hotels_redeem_button",customData:JSON.stringify({hotelsTravelInfo:v,url:d,redemptionUrl:null==e?void 0:e.redemptionUrl,specialOfferId:null==e?void 0:e.id,specialOfferType:null==e?void 0:e.specialOfferType})}),C()}}),(null==e?void 0:e.redemptionPhoneNumber)&&T(M,{phoneNumber:e.redemptionPhoneNumber,hasRedemptionUrl:!(null==e||!e.redemptionUrl),isMobile:r,onClick:P})]})},z=({onLeftClick:e,onRightClick:i})=>y("div",{className:"qzjmc f P0",children:[T("div",{className:k,children:T(o,{onClick:e,icon:s,"aria-label":"left",variant:"primary-border",size:"medium"})}),T("div",{className:k,children:T(o,{onClick:i,icon:d,"aria-label":"right",variant:"primary-border",size:"medium"})})]}),E=({specialOffers:e,imageSource:i,mode:l="NORMAL",onDisplay:t,showUrlPreview:o,redeemLabel:d,lightboxType:s})=>{var[c,m]=a(0),u=e[c].id,{specialOfferType:p}=e[c];return r((()=>{t&&t(l,u,c,p)}),[l,c,t,u,p]),y("div",{className:"WMrct P0 f",children:[T("div",{className:"restaurant"===s?"mVfYd":"OzHoI",children:T(n,{source:i,width:"100%",height:"100%"})}),y("div",{className:"qgKVs f P0",children:[T(P,{specialOfferValue:e[c],mode:l,showUrlPreview:o,redeemLabel:d}),e&&e.length>1&&T(z,{onLeftClick:()=>m((i=>(i-1+e.length)%e.length)),onRightClick:()=>m((i=>(i+1)%e.length))})]})]})},A="kYCZc",R="OLDCT",V="SuVji",x="JMCWr",Y="zfqkq",q=()=>y("div",{className:"tySnO P0 f",children:[T("div",{className:"nSiZV",children:T(n,{source:null,width:"100%",height:"100%"})}),y("div",{className:"llAdT _T",children:[T("div",{className:C(A,x)}),T("div",{className:C(R,Y)}),T("div",{className:C(R,"JCGHm")}),T("div",{className:C(R,x)}),T("div",{className:C(A,V)}),T("div",{className:C(R,Y)}),T("div",{className:C(R,V)}),T(D,{})]})]}),W=({specialOfferList:e,imageSource:i,onClose:a,fetching:r,mode:n,redeemLabel:t,onDisplay:o,lightboxType:d})=>T(l,{onClose:a,overrideContentStyling:!0,mobileContainerStyle:"inset",children:T("div",{className:"cJVEZ",children:r?T(w,{}):T(O,{specialOffers:e,imageSource:i,mode:n,redeemLabel:t,onDisplay:o,lightboxType:d})})}),B=({title:e,description:i,startDate:l,endDate:a,validDays:r,code:n,imageSource:t,redeemLabel:o,redemptionUrl:d,focusOnUrl:s,redemptionPhoneNumber:c,lightboxType:m})=>T(O,{specialOffers:[{title:e,description:i,startDate:l,endDate:a,validDays:r,code:n,redemptionUrl:d,redemptionPhoneNumber:c}],imageSource:t,showUrlPreview:s,mode:"LIVE_PREVIEW",redeemLabel:o,lightboxType:m});return[()=>{P=j,O=E,w=q,e({SpecialOfferCardModal:W,SpecialOfferLivePreview:B})},[e=>l=e.ModalContainer,e=>(a=e.useState,r=e.useEffect),e=>n=e.default,e=>(t=e.default,o=e.CircularButton),e=>d=e.default,e=>s=e.default,e=>c=e.default,e=>m=e.useViewportCategory,e=>(u=e.useIntlFormatter,p=e.useLocalize),e=>h=e.isoStringToDate,e=>v=e.default,e=>f=e.default,e=>g=e.useRoute,e=>b=e.default,e=>_=e.useSojernTestClickEventGTMCallback,e=>(y=e.jsxs,N=e.Fragment,T=e.jsx),e=>D=e.SkeletonAnimation,e=>C=e.default]]},["1i3sz5","1o4yt4","34bu7w","jppfwt","7a7jm3","17nq86","1essqv","1ys6v1","17thqz","1o5y7t","amsjo9","1r73jw","fgwvq1","1crdfj","19l9n4","121h32","u59av4","fkji80"]]);
